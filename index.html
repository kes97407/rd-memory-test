<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1"
  />
  <title>CRE 수식 암기장</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      background: #020617;
      color: #e5e7eb;
      display: flex;
      min-height: 100vh;
      align-items: center;
      justify-content: center;
    }
    .app {
      width: 100%;
      max-width: 480px;
      height: 100vh;
      max-height: 900px;
      padding: 16px 16px 24px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 4px 2px;
    }
    .title { font-size: 18px; font-weight: 700; }
    .counter { font-size: 14px; opacity: 0.8; }

    .viewer {
      flex: 1;
      border-radius: 16px;
      background: radial-gradient(circle at top, #111827 0, #020617 60%);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.45);
      display: flex;
      flex-direction: column;
      align-items: stretch;
      justify-content: center;
      overflow: hidden;
      position: relative;
      touch-action: pan-y;
      padding: 16px 14px 18px;
    }
    .topic {
      font-size: 12px;
      letter-spacing: 0.02em;
      text-transform: uppercase;
      opacity: 0.7;
      margin-bottom: 6px;
    }
    .side-label {
      position: absolute;
      top: 10px;
      right: 14px;
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.3);
      backdrop-filter: blur(6px);
    }
    .side {
      flex: 1;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      gap: 10px;
    }
    .side.active { display: flex; }
    .text-content {
      white-space: pre-line;
      font-size: 16px;
      line-height: 1.5;
      padding: 4px 4px 2px;
    }
    .formula-text {
      font-family: "SF Mono", Menlo, Consolas, monospace;
      font-size: 15px;
      line-height: 1.5;
      margin-top: 6px;
    }
    .image-content {
      max-width: 100%;
      max-height: 55vh;
      object-fit: contain;
      border-radius: 8px;
    }
    .placeholder {
      text-align: center;
      font-size: 14px;
      opacity: 0.85;
    }
    .hint {
      position: absolute;
      bottom: 10px;
      left: 0;
      right: 0;
      text-align: center;
      font-size: 11px;
      opacity: 0.6;
    }
    .controls {
      display: flex;
      gap: 8px;
      margin-top: 4px;
      flex-wrap: wrap; /* 버튼이 많아져도 깨지지 않게 */
    }
    button {
      flex: 1 1 140px; /* 모바일에서 줄바꿈되도록 */
      padding: 11px 10px;
      border-radius: 999px;
      border: none;
      background: #1f2937;
      color: #e5e7eb;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.35);
      transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.08s ease;
    }
    button:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.45);
      background: #111827;
    }
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .btn-main {
      flex: 1.4 1 180px;
      background: linear-gradient(135deg, #4f46e5, #06b6d4);
    }
    .btn-main:active {
      background: linear-gradient(135deg, #4338ca, #0891b2);
    }
    .footer {
      text-align: center;
      font-size: 11px;
      opacity: 0.5;
      margin-top: 2px;
    }
  </style>
</head>

<body>
  <div class="app">
    <div class="header">
      <div class="title">CRE 수식 암기장</div>
      <div class="counter" id="counter">0 / 0</div>
    </div>

    <div class="viewer" id="viewer">
      <div class="topic" id="topic"></div>
      <div class="side-label" id="sideLabel">앞면</div>

      <div class="side active" id="frontSide">
        <div class="text-content" id="frontText"></div>
        <img id="frontImage" class="image-content" alt="" />
      </div>

      <div class="side" id="backSide">
        <div class="text-content" id="backText"></div>
        <img id="backImage" class="image-content" alt="" />
      </div>

      <div class="placeholder" id="placeholder">
        아직 카드가 없습니다.<br /><br />
        아래 코드의 <code>cards</code> 배열에 수식 카드들을 추가해주세요.
      </div>

      <div class="hint">
        카드를 탭하면 앞/뒤 뒤집기 · 좌/우 스와이프로 이전/다음 이동
      </div>
    </div>

    <div class="controls">
      <button id="prevBtn">이전</button>
      <button id="flipBtn" class="btn-main">정답 보기</button>
      <button id="nextBtn">다음</button>
    </div>

    <div class="controls">
      <button id="shuffleBtn">랜덤</button>
      <button id="hideBtn">외움(숨기기)</button>
      <button id="showHiddenBtn">숨김 보기: OFF</button>
      <button id="resetBtn">처음부터</button>
    </div>

    <div class="footer">
      마지막으로 본 위치를 자동 저장합니다. (브라우저별로 따로 저장)
    </div>
  </div>

  <script>
    // ================================
    // 1) CRE 수식 카드 데이터
    // ================================
    const cards = [
      // ---- 기본 개념 / 함수 관계 ----
      {
        id: "BASIC_01",
        topic: "기본 개념",
        frontText: "신뢰도 함수 R(t)의 정의",
        backText:
          "R(t) = P(T > t)\n\nT: 고장시간(random variable)\n'시간 t까지 살아 있을 확률'",
      },
      {
        id: "BASIC_02",
        topic: "기본 개념",
        frontText: "누적고장분포 F(t)의 정의와 R(t)와의 관계",
        backText:
          "F(t) = P(T ≤ t)\nR(t) = 1 - F(t)\n\n'시간 t 이전(또는 t까지) 고장날 확률'",
      },
      {
        id: "BASIC_03",
        topic: "기본 개념",
        frontText: "고장률(위험률) 함수 λ(t) 정의",
        backText:
          "λ(t) = f(t) / R(t)\n\nf(t): 고장시간의 PDF\nR(t): 신뢰도 함수\n\n조건부 고장률\n= 't까지 살아있다고 했을 때, t에서 순간 고장날 비율'",
      },
      {
        id: "BASIC_04",
        topic: "기본 개념",
        frontText: "PDF, CDF, 신뢰도, 고장률의 기본 관계식",
        backText:
          "f(t) = dF(t)/dt\nF(t) = ∫₀ᵗ f(x) dx\nR(t) = 1 - F(t)\n\nλ(t) = f(t)/R(t)\nR(t) = exp( -∫₀ᵗ λ(u) du )",
      },
      {
        id: "BASIC_05",
        topic: "기본 개념",
        frontText: "기대수명 MTTF / MTBF 정의",
        backText:
          "MTTF = E[T] = ∫₀^∞ t f(t) dt\n\n수리 가능한 경우에는 MTBF (Mean Time Between Failures)로 사용",
      },

      // ---- 지수분포 ----
      {
        id: "EXP_01",
        topic: "지수분포",
        frontText: "지수분포의 신뢰도 / CDF / PDF / 고장률",
        backText:
          "R(t) = exp(-λ t)\nF(t) = 1 - exp(-λ t)\nf(t) = λ exp(-λ t)\nλ(t) = λ (상수)\n\n메모리리스 분포: 과거와 무관하게 항상 같은 고장률",
      },
      {
        id: "EXP_02",
        topic: "지수분포",
        frontText: "지수분포의 평균수명(MTTF)과 분산",
        backText:
          "MTTF = 1/λ\nVar(T) = 1/λ²\n\n평균수명 θ = 1/λ 로 표기하기도 함.",
      },
      {
        id: "EXP_03",
        topic: "지수분포",
        frontText: "지수분포에서 특정 시간 t에서의 신뢰도",
        backText:
          "R(t) = exp(-t/θ)\n\nθ = MTTF = 1/λ\n예: t = θ 일 때 R(θ) = exp(-1) ≈ 0.368",
      },

      // ---- 와이블 분포 ----
      {
        id: "WEIB_01",
        topic: "와이블 분포",
        frontText: "와이블 분포의 PDF / CDF / 신뢰도",
        backText:
          "모수: 형상 β, 척도 η\n\nf(t) = (β/η) (t/η)^{β-1} exp[-(t/η)^β]\nF(t) = 1 - exp[-(t/η)^β]\nR(t) = exp[-(t/η)^β]",
      },
      {
        id: "WEIB_02",
        topic: "와이블 분포",
        frontText: "와이블 분포의 고장률 함수",
        backText:
          "λ(t) = f(t) / R(t) = (β/η) (t/η)^{β-1}\n\nβ < 1 : 초기고장 (감소형)\nβ = 1 : 지수분포 (상수)\nβ > 1 : 마모고장 (증가형)",
      },
      {
        id: "WEIB_03",
        topic: "와이블 분포",
        frontText: "와이블 분포의 평균과 분산",
        backText:
          "E[T] = η Γ(1 + 1/β)\nVar(T) = η² { Γ(1 + 2/β) - [Γ(1 + 1/β)]² }\n\nΓ: 감마 함수",
      },
      {
        id: "WEIB_04",
        topic: "와이블 분포",
        frontText: "와이블 직선화(로그-로그 플롯) 기본식",
        backText:
          "R(t) = exp[-(t/η)^β]\n⇒ ln[-ln R(t)] = β ln t - β ln η\n\n와이블 플롯에서\nY = ln[-ln(1 - F(t))], X = ln t\n기울기 = β, 절편 = -β ln η",
      },

      // ---- 정규/로그정규 ----
      {
        id: "NORM_01",
        topic: "정규분포",
        frontText: "정규분포에서 Z 변환과 신뢰도",
        backText:
          "T ~ N(μ, σ²)\nZ = (T - μ)/σ\n\nR(t) = P(T > t) = 1 - Φ( (t - μ)/σ )\nF(t) = Φ( (t - μ)/σ )",
      },
      {
        id: "LN_01",
        topic: "로그정규분포",
        frontText: "로그정규 분포 정의와 변환",
        backText:
          "Y = ln T ~ N(μ_Y, σ_Y²)\n\nR(t) = P(T > t)\n= P(Y > ln t)\n= 1 - Φ( (ln t - μ_Y)/σ_Y )",
      },

      // ---- 시스템 신뢰도 ----
      {
        id: "SYS_01",
        topic: "시스템 신뢰도",
        frontText: "직렬(Series) 시스템 신뢰도",
        backText:
          "n개 구성요소 직렬 연결\n시스템은 모든 구성요소가 살아 있어야 동작\n\nR_series(t) = ∏ᵢ Rᵢ(t)",
      },
      {
        id: "SYS_02",
        topic: "시스템 신뢰도",
        frontText: "병렬(Parallel) 시스템 신뢰도",
        backText:
          "n개 구성요소 병렬 연결\n하나라도 살아 있으면 시스템 동작\n\nR_parallel(t) = 1 - ∏ᵢ [1 - Rᵢ(t)]",
      },
      {
        id: "SYS_03",
        topic: "시스템 신뢰도",
        frontText: "k-out-of-n 시스템 신뢰도 (동일 구성요소)",
        backText:
          "독립, 동일 R(t)를 갖는 n개 구성요소\n시스템: 최소 k개 이상 동작 필요\n\nR_k/n(t) = Σ_{i=k}^{n} [ C(n, i) [R(t)]^i [1 - R(t)]^{n-i} ]",
      },
      {
        id: "SYS_04",
        topic: "시스템 신뢰도",
        frontText: "직렬 시스템의 MTBF (지수분포, 상수 고장률)",
        backText:
          "각 구성요소 고장률 λᵢ (지수분포, 상수)\n\nλ_system = Σ λᵢ\nMTBF_system = 1 / λ_system",
      },
      {
        id: "SYS_05",
        topic: "시스템 신뢰도",
        frontText: "병렬 시스템의 고장률 (2개, 지수분포 동일 λ)",
        backText:
          "2개 동일 지수분포(λ) 병렬\nR(t) = 1 - (1 - e^{-λt})² = 2e^{-λt} - e^{-2λt}\n\nλ(t) = f(t) / R(t) 로 계산\n(시간에 따라 변하는 비상수 hazard)",
      },

      // ---- 중복 ----
      {
        id: "RED_01",
        topic: "중복",
        frontText: "완전 중복(Active parallel) 신뢰도 개념",
        backText:
          "n개가 모두 동시에 사용되는 병렬 구조\n\nR(t) = 1 - ∏ᵢ [1 - Rᵢ(t)]\n\n지수분포(동일 λ)에서는 시간에 따라 hazard가 감소하는 형태",
      },

      // ---- 유지보수성 / 가용도 ----
      {
        id: "MAINT_01",
        topic: "유지보수성",
        frontText: "수리시간 분포와 MTTF, MTTR, MDT",
        backText:
          "MTTF: 평균 고장 간 시간\nMTTR: Mean Time To Repair (단일 수리시간 평균)\nMDT: Mean Down Time\n\nMDT = MTTR + (기타 대기/물류 시간 등)",
      },
      {
        id: "AVAIL_01",
        topic: "가용도",
        frontText: "고전적인(기본) 가용도 공식",
        backText:
          "A = MTBF / (MTBF + MTTR)\n\n비고장 시간 / (비고장 시간 + 수리시간)",
      },
      {
        id: "AVAIL_02",
        topic: "가용도",
        frontText: "정상상태 가용도 (고장률 λ, 수리율 μ)",
        backText:
          "수리 가능한 마코프 2상태 모델\n\nA = μ / (λ + μ)\n\n여기서 λ = 고장률, μ = 수리율",
      },
      {
        id: "AVAIL_03",
        topic: "가용도",
        frontText: "운용 가용도, 내재 가용도 개념 정리",
        backText:
          "내재 가용도 A_i = MTBF / (MTBF + MTTR)\n(계획정지, 물류/대기시간 제외)\n\n운용 가용도 A_o = 가동시간 / (전체 달력시간)\n(모든 계획·비계획 정지 포함)",
      },

      // ---- 신뢰도 시험(계수형) ----
      {
        id: "TEST_01",
        topic: "계수형 신뢰도 시험",
        frontText: "계수형(성공/실패) 시험에서 신뢰도 추정",
        backText:
          "n회 시험, x회 성공\n\n신뢰도 추정치 R̂ = x / n\n불신뢰도(고장확률) q̂ = 1 - R̂",
      },
      {
        id: "TEST_02",
        topic: "계수형 신뢰도 시험",
        frontText: "계수형 신뢰도 시험에서 단측 하한 신뢰구간 (x= n 성공 시)",
        backText:
          "모든 시험이 성공(x = n)일 때\n\nR_L = (1 - α)^{1/n}\n\nα: 유의수준 (예: 0.1 → 90% 신뢰수준)\nR ≥ R_L (단측 하한)",
      },

      // ---- 수명시험(지수, r failures) ----
      {
        id: "TEST_EXP_01",
        topic: "지수 수명시험",
        frontText: "지수분포 수명시험에서 λ 추정 (r 고장 관측)",
        backText:
          "총 시험시간 T = Σ tᵢ (또는 T = n * t_c 등)\n\nr개의 고장이 관측되었을 때\nλ̂ = r / T\nMTTF̂ = 1 / λ̂ = T / r",
      },
      {
        id: "TEST_EXP_02",
        topic: "지수 수명시험",
        frontText: "지수분포 수명시험에서 λ의 신뢰구간 (χ² 이용, r 고장)",
        backText:
          "하한: λ_L = (χ²_{2r, 1-α/2}) / (2T)\n상한: λ_U = (χ²_{2r, α/2}) / (2T)\n\n여기서 χ²_{ν, p} : 자유도 ν, 상위 p백분위수",
      },

      // ---- 가속수명시험(ALT) ----
      {
        id: "ALT_01",
        topic: "가속수명시험",
        frontText: "Arrhenius 가속 모델 (온도 스트레스)",
        backText:
          "MTTF = A exp( E_a / (kT) )\n\nE_a: 활성화 에너지\nk: 볼츠만 상수\nT: 절대온도(K)\n\n또는 ln(MTTF) = ln A + E_a/(kT)",
      },
      {
        id: "ALT_02",
        topic: "가속수명시험",
        frontText: "Inverse Power 법칙 (전압, 하중 등)",
        backText:
          "스트레스 S에서의 MTTF\nMTTF(S) = K S^{-n}\n\n로그 형태: ln(MTTF) = ln K - n ln S",
      },

      // ---- 베이지안 ----
      {
        id: "BAYES_01",
        topic: "베이지안 추정",
        frontText: "지수분포 고장률 λ의 감마 사전분포 + 데이터 관측",
        backText:
          "사전분포: λ ~ Gamma(α₀, β₀)\n시험결과: 총 시간 T, r 고장\n\n사후분포: λ | 데이터 ~ Gamma(α₀ + r, β₀ + T)",
      },

      // ---- Duane 성장모델 ----
      {
        id: "GROWTH_01",
        topic: "신뢰도 성장",
        frontText: "Duane 모델 (누적 MTTF vs 누적 시간)",
        backText:
          "MTBF(t) = K t^{α}\n또는 누적 고장률 형태로 표현\n\n로그 선형식\nln(MTBF) = ln K + α ln t",
      },

      // ---- 기타 ----
      {
        id: "MISC_01",
        topic: "기타",
        frontText: "불신뢰도 Q(t), 고장건수 기대값",
        backText:
          "Q(t) = 1 - R(t) = F(t)\n\nN개의 동일한 항목에서\n기대 고장개수 E[고장 수] = N Q(t)",
      },
      {
        id: "MISC_02",
        topic: "기타",
        frontText: "시스템 고장률 vs 구성요소 고장률 (지수, 직렬)",
        backText:
          "지수분포, 직렬 시스템\nλ_sys = Σ λᵢ\nR_sys(t) = exp(-λ_sys t)",
      },

      // =========================
      // 추가 카드 (약한 부분 19개)
      // =========================
      {
        id: "WEAK_01",
        topic: "계량형 샘플크기 공식",
        frontText: "모평균 추정을 위한 샘플크기 공식",
        backText:
          "n = (Z_{α/2} · σ / E)^2\n\nσ: 표준편차(추정값)\nE: 허용오차 (±E)\n\n예시) σ=5, E=1, 신뢰수준 95% (Z=1.96)\n→ n = (1.96×5/1)^2 ≈ 96"
      },
      {
        id: "WEAK_02",
        topic: "공정능력·관리도 공식",
        frontText: "공정능력지수 (Cp, Cpk, Pp, Ppk)",
        backText:
          "Cp = (USL - LSL) / (6σ)\nCpk = min[(USL - μ)/(3σ), (μ - LSL)/(3σ)]\n\nPp, Ppk는 장기 데이터 기준.\n\n관리도 경계: UCL = μ + 3σ/√n, LCL = μ - 3σ/√n"
      },
      {
        id: "WEAK_03",
        topic: "점추정 및 구간추정",
        frontText: "모평균에 대한 신뢰구간 (σ 모름, t분포 사용)",
        backText:
          "μ ∈ [x̄ ± t_{α/2, n-1}·(s/√n)]\n\n모비율에 대한 구간: p̂ ± Z_{α/2}·√[p̂(1-p̂)/n]"
      },
      {
        id: "WEAK_04",
        topic: "1종·2종 절단시험",
        frontText: "지수 수명시험 절단 공식",
        backText:
          "1종 절단(Type I): 일정시간 t₀까지 시험, 고장 r개\nλ̂ = r / (Σ t_i + (n - r)t₀)\n\n2종 절단(Type II): r번째 고장까지 시험, λ̂ = r / Σ t_i"
      },
      {
        id: "WEAK_05",
        topic: "변동·비율 신뢰구간",
        frontText: "분산·비율 신뢰구간",
        backText:
          "모분산: (n−1)s² / χ²_{α/2,n−1} ≤ σ² ≤ (n−1)s² / χ²_{1−α/2,n−1}\n\n모비율: p̂ ± Z_{α/2}·√[p̂(1−p̂)/n]"
      },
      {
        id: "WEAK_06",
        topic: "Duane·AMSAA 모델",
        frontText: "Duane/AMSAA 신뢰도성장모델",
        backText:
          "Duane: λ(t) = K t^{α−1}, MTBF(t)=K' t^{α}\nln(MTBF)=lnK'+α ln t\n\nAMSAA: N(t)=λ₀ t^{β}, λ(t)=βλ₀t^{β−1}"
      },
      {
        id: "WEAK_07",
        topic: "Median Rank / ERTO",
        frontText: "중위순위(Median Rank) 공식",
        backText:
          "MR(i) = (i − 0.3)/(n + 0.4)\n\nERTO(Extended Rank Time Order): 절단데이터 보정 시 MR의 확장형"
      },
      {
        id: "WEAK_08",
        topic: "PRST 수식",
        frontText: "PRST(Probability Ratio Sequential Test)",
        backText:
          "L = Π [ f(x_i|H₁) / f(x_i|H₀) ]\n\n로그 누적비로 판단:\nlnL ≥ A → H₁ 채택\nlnL ≤ B → H₀ 채택"
      },
      {
        id: "WEAK_09",
        topic: "고장 절단 포인트",
        frontText: "절단 데이터 고장점 보정식",
        backText:
          "Type I 절단: 미고장 샘플은 시험종료시점 t₀으로 간주\n\n고장율 추정 λ̂ = r / (Σ 고장시간 + (n−r)t₀)"
      },
      {
        id: "WEAK_10",
        topic: "시험 중단 조건",
        frontText: "정시·고장·교체 정시 중단시험",
        backText:
          "정시중단: 일정 시간 후 종료 (Type I)\n고장중단: r번째 고장 발생 시 종료 (Type II)\n교체 정시중단: 고장시 즉시 교체 후 t₀까지 지속, 총 누적시간 사용"
      },
      {
        id: "WEAK_11",
        topic: "베타분포·시료수 계산",
        frontText: "베타분포 신뢰도 추정과 샘플크기",
        backText:
          "x 성공 / n 시험 → 사후분포 Beta(x+1, n−x+1)\n\n샘플크기: n = [Z_{α/2}²·p(1−p)] / E²"
      },
      {
        id: "WEAK_12",
        topic: "SW 결합주입",
        frontText: "SW 결합주입(S/W Reliability Growth) 기본식",
        backText:
          "N(t)=a(1−e^{−bt})\nλ(t)=ab e^{−bt}\n\n신뢰도 성장 시험 중 발견·수정률 모델링용"
      },
      {
        id: "WEAK_13",
        topic: "병렬모델",
        frontText: "능동/대기 병렬 시스템 신뢰도",
        backText:
          "능동 병렬: R=1−∏(1−R_i)\n대기 병렬(Cold standby): R=R₁+R₂(1−R₁)+…\nMTTF = (1/λ₁)+(1/λ₂)"
      },
      {
        id: "WEAK_14",
        topic: "능동·대기 리던던시",
        frontText: "리던던시의 동등/비동등 고장률 공식",
        backText:
          "동등고장률(λ): 능동 R=1−(1−e^{−λt})^n\n대기(완벽스위칭): R=e^{−λ₁t}+λ₁/(λ₂−λ₁)(e^{−λ₁t}−e^{−λ₂t})"
      },
      {
        id: "WEAK_15",
        topic: "부하공유 병렬시스템",
        frontText: "부하공유(Load-sharing) 병렬 공식",
        backText:
          "각 구성품 고장률이 부하분담에 따라 변화:\nλ_i(t)=λ₀·(P_i/P_total)^β\n\nβ>0이면 부하 집중시 고장률↑"
      },
      {
        id: "WEAK_16",
        topic: "공차구간·허용공차",
        frontText: "공차구간(Tolerance Interval)",
        backText:
          "양측 공차구간: x̄ ± k·s\nk = k(α, P, n) from 표준표\n\n예: 95% 신뢰, 99% 포함 → k≈3.138 (n=10)"
      },
      {
        id: "WEAK_17",
        topic: "공차설계",
        frontText: "Taguchi 공차설계 기본식",
        backText:
          "총변동 σ_y² = Σ (∂y/∂x_i)²·σ_i²\n\n경제적 공차설계: C_T = C_M + C_P\nC_P ∝ 1/t_i²"
      },
      {
        id: "WEAK_18",
        topic: "보전할당",
        frontText: "보전성 할당 공식",
        backText:
          "목표 MDT 달성 위해 각 구성품 MTTR_i 배분\n\nΣ(MTTR_i·가중치_i) ≤ 목표 MDT"
      },
      {
        id: "WEAK_19",
        topic: "예비·교체 최적화",
        frontText: "최적 교체·예비부품 수요 공식",
        backText:
          "교체주기: C_R(t)= (C_f·F(t)+C_m·R(t))/t 최소화\n예비품수요: N_s ≈ λ·T_op·(1+A_safety)"
      },

      // ---- 템플릿 ----
      {
        id: "TEMPLATE_TEXT",
        topic: "템플릿",
        frontText: "여기에 암기하고 싶은 질문/힌트 텍스트",
        backText: "여기에 공식/답 텍스트",
      },
      {
        id: "TEMPLATE_IMAGE",
        topic: "템플릿",
        frontText: "이미지로 된 수식/그래프 (앞면에 그림)",
        frontImage: "images/example_formula.png",
        backText: "이 이미지에 대한 핵심 요약/공식 설명",
      },

      /* ============================
         SPEED TEST 30 PROBLEMS
      ============================ */
      {
        "id": "Q1",
        "topic": "CRE Formula Deck",
        "frontText": "Q1\nSample mean n=50, σ known → 어떤 분포를 쓰는가?",
        "backText": "정답: Z 분포\n해설: 표본 크기 크고 모표준편차 σ가 알려진 평균 문제는 Z 사용."
      },
      {
        "id": "Q2",
        "topic": "CRE Formula Deck",
        "frontText": "Q2\nSmall sample mean, σ unknown → 어떤 분포?",
        "backText": "정답: t 분포\n해설: 작은 샘플 + σ unknown = t."
      },
      {
        "id": "Q3",
        "topic": "CRE Formula Deck",
        "frontText": "Q3\nProportion defective → 어떤 분포 사용?",
        "backText": "정답: Z 분포(이항의 정규근사)\n해설: 비율 p의 CI/검정은 보통 Z."
      },
      {
        "id": "Q4",
        "topic": "CRE Formula Deck",
        "frontText": "Q4\nVariance CI → 어떤 분포?",
        "backText": "정답: χ² 분포\n해설: 분산/표준편차의 CI는 χ²."
      },
      {
        "id": "Q5",
        "topic": "CRE Formula Deck",
        "frontText": "Q5\nCompare two variances → 어떤 검정?",
        "backText": "정답: F-test\n해설: 두 분산 비교는 F."
      },
      {
        "id": "Q6",
        "topic": "CRE Formula Deck",
        "frontText": "Q6\nCount of failures per hour → 어떤 분포?",
        "backText": "정답: Poisson\n해설: 일정 시간당 발생 건수는 포아송."
      },
      {
        "id": "Q7",
        "topic": "CRE Formula Deck",
        "frontText": "Q7\nExponential: 5 failures in 2000 hr → λ 추정은?",
        "backText": "정답: λ = r / Σti\n해설: 지수분포에서 MLE는 r / 총 가동시간."
      },
      {
        "id": "Q8",
        "topic": "CRE Formula Deck",
        "frontText": "Q8\nr out of n pass/fail → 어떤 분포?",
        "backText": "정답: Binomial\n해설: 이항형 성공/실패."
      },
      {
        "id": "Q9",
        "topic": "CRE Formula Deck",
        "frontText": "Q9\nNon-replacement sampling → 어떤 분포?",
        "backText": "정답: Hypergeometric\n해설: 비복원추출은 초기하."
      },
      {
        "id": "Q10",
        "topic": "CRE Formula Deck",
        "frontText": "Q10\nWeibull β > 1 의미?",
        "backText": "정답: Wear-out 증가 hazard\n해설: β>1은 시간 증가할수록 고장률 증가."
      },
      {
        "id": "Q11",
        "topic": "CRE Formula Deck",
        "frontText": "Q11\nB10 life 계산 기반 분포?",
        "backText": "정답: Weibull\n해설: B-life 계산은 Weibull."
      },
      {
        "id": "Q12",
        "topic": "CRE Formula Deck",
        "frontText": "Q12\nRun rule 기반 분포?",
        "backText": "정답: Normal\n해설: 관리도의 가정은 정규."
      },
      {
        "id": "Q13",
        "topic": "CRE Formula Deck",
        "frontText": "Q13\nCp/Cpk 계산 불량확률 기반 분포?",
        "backText": "정답: Normal\n해설: 공정능력지수는 정규분포."
      },
      {
        "id": "Q14",
        "topic": "CRE Formula Deck",
        "frontText": "Q14\nConstant failure rate → 어떤 분포?",
        "backText": "정답: Exponential\n해설: 고장률이 일정 = 지수분포."
      },
      {
        "id": "Q15",
        "topic": "CRE Formula Deck",
        "frontText": "Q15\nDecreasing hazard time to fail → 분포?",
        "backText": "정답: Weibull(β < 1)\n해설: 초기고장 패턴."
      },
      {
        "id": "Q16",
        "topic": "CRE Formula Deck",
        "frontText": "Q16\nInfant mortality → 어떤 분포?",
        "backText": "정답: Weibull β<1\n해설: 초기고장."
      },
      {
        "id": "Q17",
        "topic": "CRE Formula Deck",
        "frontText": "Q17\nANOVA → 어떤 분포 사용?",
        "backText": "정답: F 분포\n해설: 요인분석은 F-test."
      },
      {
        "id": "Q18",
        "topic": "CRE Formula Deck",
        "frontText": "Q18\nS-bar chart의 통계적 기반?",
        "backText": "정답: χ² 분포\n해설: 분산 기반 통계량."
      },
      {
        "id": "Q19",
        "topic": "CRE Formula Deck",
        "frontText": "Q19\nMTBF lower bound Type I → 어떤 분포?",
        "backText": "정답: χ²\n해설: 지수분포 θ CI는 χ²."
      },
      {
        "id": "Q20",
        "topic": "CRE Formula Deck",
        "frontText": "Q20\nMTBF CI Type II → 어떤 분포?",
        "backText": "정답: χ²\n해설: 고장중단 시험도 χ²."
      },
      {
        "id": "Q21",
        "topic": "CRE Formula Deck",
        "frontText": "Q21\nRegression slope test → 어떤 분포?",
        "backText": "정답: t 분포\n해설: 회귀계수 검정은 t."
      },
      {
        "id": "Q22",
        "topic": "CRE Formula Deck",
        "frontText": "Q22\nλ estimation for exponential → 무엇의 합?",
        "backText": "정답: λ=r/Σti\n해설: 총 노출시간 기반."
      },
      {
        "id": "Q23",
        "topic": "CRE Formula Deck",
        "frontText": "Q23\nHigh n, low p → 근사 분포?",
        "backText": "정답: Poisson\n해설: 희귀확률 근사."
      },
      {
        "id": "Q24",
        "topic": "CRE Formula Deck",
        "frontText": "Q24\nk defects count → 어떤 분포?",
        "backText": "정답: Poisson"
      },
      {
        "id": "Q25",
        "topic": "CRE Formula Deck",
        "frontText": "Q25\n3-sigma limits 기반 분포?",
        "backText": "정답: Normal"
      },
      {
        "id": "Q26",
        "topic": "CRE Formula Deck",
        "frontText": "Q26\nExceed USL probability → 기반 분포?",
        "backText": "정답: Normal"
      },
      {
        "id": "Q27",
        "topic": "CRE Formula Deck",
        "frontText": "Q27\nCentral Limit Theorem → 근사 분포?",
        "backText": "정답: Normal"
      },
      {
        "id": "Q28",
        "topic": "CRE Formula Deck",
        "frontText": "Q28\nTwo-sample mean, equal var, σ unknown → 어떤 검정?",
        "backText": "정답: pooled t-test"
      },
      {
        "id": "Q29",
        "topic": "CRE Formula Deck",
        "frontText": "Q29\nMean difference with σ known → 어떤 검정?",
        "backText": "정답: 2-sample Z-test"
      },
      {
        "id": "Q30",
        "topic": "CRE Formula Deck",
        "frontText": "Q30\nLot acceptance probability → 어떤 분포?",
        "backText": "정답: Hypergeometric 또는 Binomial"
      },

      /* ============================
         ADVANCED 50
      ============================ */
      {
        "id": "Q31",
        "topic": "CRE Formula Deck",
        "frontText": "A1\nn=18, 평균 CI, σ unknown → 분포?",
        "backText": "정답: t CI"
      },
      {
        "id": "Q32",
        "topic": "CRE Formula Deck",
        "frontText": "A2\n불량률 99% 상한 → 공식?",
        "backText": "정답: Z proportion CI"
      },
      {
        "id": "Q33",
        "topic": "CRE Formula Deck",
        "frontText": "A3\nVariance > 0.002? → 어떤 검정?",
        "backText": "정답: χ² variance test"
      },
      {
        "id": "Q34",
        "topic": "CRE Formula Deck",
        "frontText": "A4\nσ known 두 평균 검정?",
        "backText": "정답: Z-test"
      },
      {
        "id": "Q35",
        "topic": "CRE Formula Deck",
        "frontText": "A5\n두 불량률 비교?",
        "backText": "정답: 2-proportion Z-test"
      },
      {
        "id": "Q36",
        "topic": "CRE Formula Deck",
        "frontText": "A6\n작은 샘플 두 평균, equal variance, σ unknown?",
        "backText": "정답: pooled t-test"
      },
      {
        "id": "Q37",
        "topic": "CRE Formula Deck",
        "frontText": "A7\nσ CI?",
        "backText": "정답: χ²"
      },
      {
        "id": "Q38",
        "topic": "CRE Formula Deck",
        "frontText": "A8\n두 분산 동일성?",
        "backText": "정답: F-test"
      },
      {
        "id": "Q39",
        "topic": "CRE Formula Deck",
        "frontText": "A9\np ≤ 0.005 단측검정?",
        "backText": "정답: one-sided Z"
      },
      {
        "id": "Q40",
        "topic": "CRE Formula Deck",
        "frontText": "A10\n평균 벗어남, σ unknown?",
        "backText": "정답: t-test"
      },
      {
        "id": "Q41",
        "topic": "CRE Formula Deck",
        "frontText": "A11\n두 평균 unequal variance?",
        "backText": "정답: Welch t-test"
      },
      {
        "id": "Q42",
        "topic": "CRE Formula Deck",
        "frontText": "A12\np1−p2 CI?",
        "backText": "정답: Z proportion CI"
      },
      {
        "id": "Q43",
        "topic": "CRE Formula Deck",
        "frontText": "A13\nMTTR mean CI?",
        "backText": "정답: t CI"
      },
      {
        "id": "Q44",
        "topic": "CRE Formula Deck",
        "frontText": "A14\n평균 > 목표값, σ known?",
        "backText": "정답: one-sided Z-test"
      },
      {
        "id": "Q45",
        "topic": "CRE Formula Deck",
        "frontText": "A15\nRare defects large n → 근사 분포?",
        "backText": "정답: Poisson"
      },
      {
        "id": "Q46",
        "topic": "CRE Formula Deck",
        "frontText": "B1\nLOT200 비복원추출?",
        "backText": "정답: Hypergeometric"
      },
      {
        "id": "Q47",
        "topic": "CRE Formula Deck",
        "frontText": "B2\nAQL/LTPD 샘플계획?",
        "backText": "정답: OC curve (Binomial/Hypergeometric)"
      },
      {
        "id": "Q48",
        "topic": "CRE Formula Deck",
        "frontText": "B3\nppm defects 50k?",
        "backText": "정답: Poisson"
      },
      {
        "id": "Q49",
        "topic": "CRE Formula Deck",
        "frontText": "B4\nDaily defect count?",
        "backText": "정답: Poisson"
      },
      {
        "id": "Q50",
        "topic": "CRE Formula Deck",
        "frontText": "B5\nLot small, non replacement?",
        "backText": "정답: Hypergeometric"
      },
      {
        "id": "Q51",
        "topic": "CRE Formula Deck",
        "frontText": "B6\nFalse reject 줄이는 기준?",
        "backText": "정답: OC curve 분석"
      },
      {
        "id": "Q52",
        "topic": "CRE Formula Deck",
        "frontText": "B7\nLarge n, rare defect?",
        "backText": "정답: Poisson"
      },
      {
        "id": "Q53",
        "topic": "CRE Formula Deck",
        "frontText": "B8\nConsumer risk β?",
        "backText": "정답: OC curve 파라미터"
      },
      {
        "id": "Q54",
        "topic": "CRE Formula Deck",
        "frontText": "B9\nHyper → Binomial 근사 조건?",
        "backText": "정답: Lot size ≫ sample size"
      },
      {
        "id": "Q55",
        "topic": "CRE Formula Deck",
        "frontText": "B10\nCount/week?",
        "backText": "정답: Poisson"
      },
      {
        "id": "Q56",
        "topic": "CRE Formula Deck",
        "frontText": "C1\nXbar ±3σ 근거?",
        "backText": "정답: Normal"
      },
      {
        "id": "Q57",
        "topic": "CRE Formula Deck",
        "frontText": "C2\nR-chart constants 기반?",
        "backText": "정답: Range distribution"
      },
      {
        "id": "Q58",
        "topic": "CRE Formula Deck",
        "frontText": "C3\nSbar chart 기반?",
        "backText": "정답: χ²"
      },
      {
        "id": "Q59",
        "topic": "CRE Formula Deck",
        "frontText": "C4\n자연변동 모델 분포?",
        "backText": "정답: Normal"
      },
      {
        "id": "Q60",
        "topic": "CRE Formula Deck",
        "frontText": "C5\nCpk 불량확률 분포?",
        "backText": "정답: Normal"
      },
      {
        "id": "Q61",
        "topic": "CRE Formula Deck",
        "frontText": "C6\n7-run 증가 원인?",
        "backText": "정답: Special cause"
      },
      {
        "id": "Q62",
        "topic": "CRE Formula Deck",
        "frontText": "C7\n평균 이동 검정 기반?",
        "backText": "정답: t-test"
      },
      {
        "id": "Q63",
        "topic": "CRE Formula Deck",
        "frontText": "C8\nσ 증가 여부 검정?",
        "backText": "정답: χ² test"
      },
      {
        "id": "Q64",
        "topic": "CRE Formula Deck",
        "frontText": "C9\nCp 계산 기반?",
        "backText": "정답: Normal"
      },
      {
        "id": "Q65",
        "topic": "CRE Formula Deck",
        "frontText": "C10\n정규 관리도 전제?",
        "backText": "정답: Normal distribution"
      },
      {
        "id": "Q66",
        "topic": "CRE Formula Deck",
        "frontText": "D1\nType I MTBF lower bound?",
        "backText": "정답: χ²"
      },
      {
        "id": "Q67",
        "topic": "CRE Formula Deck",
        "frontText": "D2\nType II θ CI?",
        "backText": "정답: χ²"
      },
      {
        "id": "Q68",
        "topic": "CRE Formula Deck",
        "frontText": "D3\nλ MLE = ?",
        "backText": "정답: r / Σti"
      },
      {
        "id": "Q69",
        "topic": "CRE Formula Deck",
        "frontText": "D4\nWeibull MLE + censoring 필요항?",
        "backText": "정답: Censoring likelihood term"
      },
      {
        "id": "Q70",
        "topic": "CRE Formula Deck",
        "frontText": "D5\n검사 사이 고장?",
        "backText": "정답: Interval censoring"
      },
      {
        "id": "Q71",
        "topic": "CRE Formula Deck",
        "frontText": "D6\nIncreasing hazard 모수?",
        "backText": "정답: β (β>1)"
      },
      {
        "id": "Q72",
        "topic": "CRE Formula Deck",
        "frontText": "D7\nWeibull Plot 직선화?",
        "backText": "정답: ln(ln(1/(1−F))) vs ln(t)"
      },
      {
        "id": "Q73",
        "topic": "CRE Formula Deck",
        "frontText": "D8\nB10 life 공식?",
        "backText": "정답: t = η(−ln(0.9))^(1/β)"
      },
      {
        "id": "Q74",
        "topic": "CRE Formula Deck",
        "frontText": "D9\nβ<1 의미?",
        "backText": "정답: Infant mortality"
      },
      {
        "id": "Q75",
        "topic": "CRE Formula Deck",
        "frontText": "D10\nβ>1 의미?",
        "backText": "정답: Wear-out"
      },
      {
        "id": "Q76",
        "topic": "CRE Formula Deck",
        "frontText": "D11\nWeibull η 단위?",
        "backText": "정답: 시간 단위 그대로"
      },
      {
        "id": "Q77",
        "topic": "CRE Formula Deck",
        "frontText": "D12\n절단시간 다양한 경우?",
        "backText": "정답: Multiple Type I censoring"
      },
      {
        "id": "Q78",
        "topic": "CRE Formula Deck",
        "frontText": "D13\nType I θ 하한 분위수?",
        "backText": "정답: χ² 상부 분위수"
      },
      {
        "id": "Q79",
        "topic": "CRE Formula Deck",
        "frontText": "D14\nType II θ 상한 분위수?",
        "backText": "정답: χ² 하부 분위수"
      },
      {
        "id": "Q80",
        "topic": "CRE Formula Deck",
        "frontText": "D15\nN(t) 일정률 고장?",
        "backText": "정답: Poisson"
      },
      /* ============================
         CRE MAKER START (예시문제 추가)
         - 앞면: 지문+보기
         - 뒷면: 정답+해설
      ============================ */
      {
        "id": "DFX_1_RSM",
        "topic": "CRE MAKER - RSM/SEM/HOQ/DFM-DFA",
        "frontText": "A reliability engineer wants to determine the combination of temperature and pressure that maximizes yield of a new electronic component while minimizing the number of experiments.\nWhich of the following techniques is MOST appropriate?\n\n(A) Simple random sampling\n(B) Response surface methodology\n(C) Acceptance sampling\n(D) Life data analysis (Weibull)",
        "backText": "정답: (B)\n\n해설: 최적 수율을 위한 다인자 최적화 설계 → RSM."
      },
      {
        "id": "DFX_2_SEM",
        "topic": "CRE MAKER - RSM/SEM/HOQ/DFM-DFA",
        "frontText": "A reliability engineer wants to investigate the micro-cracks and fracture surface of a failed solder joint in order to identify the failure mechanism.\nWhich tool is MOST appropriate?\n\n(A) Control chart\n(B) Design of experiments\n(C) Scanning electron microscope (SEM)\n(D) Fault tree analysis",
        "backText": "정답: (C)\n\n해설: 미세구조, 파단면 관찰 → SEM."
      },
      {
        "id": "DFX_3_SEM_PURPOSE",
        "topic": "CRE MAKER - RSM/SEM/HOQ/DFM-DFA",
        "frontText": "The primary purpose of using a scanning electron microscope (SEM) in failure analysis is to:\n\n(A) Estimate field failure rates\n(B) Identify latent software defects\n(C) Characterize physical failure mechanisms\n(D) Measure thermal cycling profiles",
        "backText": "정답: (C)\n\n해설: “고장 메커니즘 식별”이라는 문장이 그대로 들어가는 유형."
      },
      {
        "id": "DFX_4_HOQ_DEF",
        "topic": "CRE MAKER - RSM/SEM/HOQ/DFM-DFA",
        "frontText": "The House of Quality (HOQ) is primarily used to:\n\n(A) Analyze failure modes and their effects\n(B) Translate customer requirements into technical specifications\n(C) Monitor process stability over time\n(D) Prioritize corrective actions for field failures",
        "backText": "정답: (B)\n\n해설: 너가 쓴 정의 그대로."
      },
      {
        "id": "DFX_5_HOQ_TOOL",
        "topic": "CRE MAKER - RSM/SEM/HOQ/DFM-DFA",
        "frontText": "A cross-functional team is trying to relate customer “wants” (WHATs) to design characteristics (HOWs) using a matrix that includes correlation between technical features.\nWhich tool are they MOST likely using?\n\n(A) Fault tree\n(B) Ishikawa diagram\n(C) House of Quality (QFD)\n(D) Control plan",
        "backText": "정답: (C)\n\n해설: WHAT–HOW 매트릭스, 상관지붕이 나오면 HOQ."
      },
      {
        "id": "DFX_6_DFA_FASTENERS",
        "topic": "CRE MAKER - RSM/SEM/HOQ/DFM-DFA",
        "frontText": "A design team redesigned a product so that the number of fasteners was reduced from 12 to 4, and many small parts were combined into a single molded part.\nThis is BEST described as:\n\n(A) Design for reliability (DFR)\n(B) Design for assembly (DFA)\n(C) Design for maintainability\n(D) Design of experiments (DOE)",
        "backText": "정답: (B)\n\n해설: 조립단계 간소화 → DFA."
      },
      {
        "id": "DFX_7_DFA_CHANGE",
        "topic": "CRE MAKER - RSM/SEM/HOQ/DFM-DFA",
        "frontText": "To reduce assembly time and assembly errors, which of the following design changes is MOST appropriate?\n\n(A) Add more inspection points\n(B) Increase the number of screws to ensure tighter joints\n(C) Combine parts and reduce fastener count\n(D) Tighten incoming inspection limits",
        "backText": "정답: (C)\n\n해설: “결속구 수 감소 = 조립 간소화”를 정답으로 유도."
      },
      {
        "id": "DFX_8_SCENARIO_Q1",
        "topic": "CRE MAKER - RSM/SEM/HOQ/DFM-DFA",
        "frontText": "A company is developing a new high-reliability connector.\n1) First, the team uses customer interviews and constructs a matrix relating customer “wants” to technical characteristics.\n2) Then, it uses designed experiments to optimize yield at different molding temperatures and pressures.\n3) After field failures occur, the engineer uses a microscope to examine fracture surfaces.\n4) Finally, the design is modified to reduce the number of fasteners and simplify assembly.\n\nQ1. The matrix in step (1) is an example of:",
        "backText": "정답: HOQ (QFD)"
      },
      {
        "id": "DFX_9_SCENARIO_Q2",
        "topic": "CRE MAKER - RSM/SEM/HOQ/DFM-DFA",
        "frontText": "A company is developing a new high-reliability connector.\n1) First, the team uses customer interviews and constructs a matrix relating customer “wants” to technical characteristics.\n2) Then, it uses designed experiments to optimize yield at different molding temperatures and pressures.\n3) After field failures occur, the engineer uses a microscope to examine fracture surfaces.\n4) Finally, the design is modified to reduce the number of fasteners and simplify assembly.\n\nQ2. The technique in step (2) is MOST likely:",
        "backText": "정답: RSM"
      },
      {
        "id": "DFX_10_SCENARIO_Q3",
        "topic": "CRE MAKER - RSM/SEM/HOQ/DFM-DFA",
        "frontText": "A company is developing a new high-reliability connector.\n1) First, the team uses customer interviews and constructs a matrix relating customer “wants” to technical characteristics.\n2) Then, it uses designed experiments to optimize yield at different molding temperatures and pressures.\n3) After field failures occur, the engineer uses a microscope to examine fracture surfaces.\n4) Finally, the design is modified to reduce the number of fasteners and simplify assembly.\n\nQ3. The microscope in step (3) is primarily used to:",
        "backText": "정답: identify physical failure mechanisms (SEM)"
      },
      {
        "id": "DFX_11_SCENARIO_Q4",
        "topic": "CRE MAKER - RSM/SEM/HOQ/DFM-DFA",
        "frontText": "A company is developing a new high-reliability connector.\n1) First, the team uses customer interviews and constructs a matrix relating customer “wants” to technical characteristics.\n2) Then, it uses designed experiments to optimize yield at different molding temperatures and pressures.\n3) After field failures occur, the engineer uses a microscope to examine fracture surfaces.\n4) Finally, the design is modified to reduce the number of fasteners and simplify assembly.\n\nQ4. The design change in step (4) is BEST described as:",
        "backText": "정답: DFA / 제품 조립 간소화"
      },
      {
        "id": "TT_Q1",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "Q1.\n\nA customer requires that a power supply have an MTBF of at least 20,000 hours at 80% confidence.\nThe reliability engineer designs a test on 8 units, operating them simultaneously and checking whether the requirement can be proven.\n\nThis type of test is BEST described as:\n(A) Qualification test\n(B) Demonstration test\n(C) Screening test\n(D) Performance test",
        "backText": "정답: (B)\n\n해설: “규격/계약 요구조건을 입증(demonstrate)”하는 시험."
      },
      {
        "id": "TT_Q2",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "Q2.\n\nA manufacturer produces relays in lots of 5,000 units. For each lot, 125 units are tested for 200 hours.\nThe lot is accepted if there are 2 or fewer failures and rejected otherwise.\n\nThis type of test is MOST appropriately called:\n(A) Demonstration test\n(B) Acceptance test\n(C) Development test\n(D) Screening test",
        "backText": "정답: (B)\n\n해설: “로트 합격/불합격 결정 = 인수검사”."
      },
      {
        "id": "TT_Q3",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "Q3.\n\nA reliability engineer introduces a 24-hour high-temperature burn-in at 125°C to remove units that fail early, so that only robust units are shipped to the customer.\nThe primary purpose of this test is to:\n(A) Demonstrate compliance with an MTBF requirement\n(B) Collect life data for Weibull analysis\n(C) Screen out early-life failures\n(D) Qualify the design for a new environment",
        "backText": "정답: (C)\n\n해설: burn-in, ESS의 키워드는 “초기고장 제거 / 약한 개체 골라내기”."
      },
      {
        "id": "TT_Q4",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "Q4.\n\nDuring development, shaft diameter is specified as 10.00 ± 0.50 mm. Early builds show that only 70% of shafts fit correctly in the mating part.\nTo increase yield while maintaining proper fit, the engineer analyzes the distribution of diameters and gradually tightens the tolerance based on process capability.\n\nThis activity is BEST described as:\n(A) Fault tree analysis\n(B) Design of experiments\n(C) Tolerance design / specification refinement\n(D) Acceptance sampling",
        "backText": "정답: (C)\n\n해설: 규격·공차를 데이터 기반으로 조정하며 “수율 최적화” → 공차 설계 개념."
      },
      {
        "id": "TT_Q5",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "Q5.\n\nBefore approving a new automotive controller for production, the manufacturer exposes samples to a full set of environmental conditions:\n– temperature cycling from -40°C to 125°C\n– vibration tests in three axes\n– humidity and electrical overstress\n\nIf all requirements are met, the design is approved for use in the field.\n\nThis test is BEST classified as a:\n(A) Screening test\n(B) Qualification test\n(C) Demonstration test\n(D) Performance test",
        "backText": "정답: (B)\n\n해설: “양산 전, 설계가 특정 환경에서 사용 가능인지 공식 승인 받는 시험”."
      },
      {
        "id": "TT_Q6",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "Q6.\n\nA power supply is tested at room temperature with a nominal load. The output voltage, ripple, and efficiency are measured and compared with the specification.\nTime to failure is not recorded, and the test stops after the measurements are taken.\n\nThis test is primarily a:\n(A) Reliability growth test\n(B) Performance test\n(C) Screening test\n(D) Qualification test",
        "backText": "정답: (B)\n\n해설: 고장까지 얼마나 버티는지(X), “성능값이 스펙 안에 들어오냐”만 보는 시험."
      },
      {
        "id": "TT_Q7",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "Q7.\n\nA contract requires a zero-failure demonstration test of a pump assembly.\nTen units are operated for 1,000 hours each. If any failure occurs, the test is considered failed and the lot will not be accepted.\n\nThe maximum number of failures allowed in this test plan is:\n(A) 2\n(B) 1\n(C) 0\n(D) Depends on the MTBF target",
        "backText": "정답: (C)\n\n해설: “무고장 시연시험 = 허용 고장수 r = 0”."
      },
      {
        "id": "TT_Q7_2",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "Q7-2.\n\nA zero-failure test is most appropriate when the engineer wants to:\n(A) Estimate the entire life distribution\n(B) Compare two competing designs\n(C) Show that the failure rate is below a specified maximum\n(D) Diagnose the root cause of failures",
        "backText": "정답: (C)"
      },
      {
        "id": "TT_Q8",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "Q8.\n\nDuring the early design phase, prototypes of a new gearbox are subjected to aggressive overload and shock tests. The purpose is to reveal design weaknesses so that engineers can redesign components before production.\n\nThis type of test is BEST described as:\n(A) Demonstration test\n(B) Acceptance test\n(C) Development test\n(D) Screening test",
        "backText": "정답: (C)\n\n해설: 개발 단계, 실패를 일부러 내보면서 설계 개선하는 시험."
      },
      {
        "id": "TT_Q9",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "Q9.\n\nA manufacturer produces 10,000 fuses per day. Instead of testing all fuses, the engineer selects a sample of 200 units, tests them to a specified current level, and decides whether the day’s production is acceptable.\n\nThis activity is BEST described as:\n(A) 100% screening\n(B) Life data analysis\n(C) Sampling inspection (sampling test)\n(D) Reliability growth testing",
        "backText": "정답: (C)\n\n해설: 전체가 아닌 일부 샘플로 품질/신뢰도를 추정·판단 → 샘플링 시험."
      },
      {
        "id": "TT_Q10_1",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "A company is developing a new electronic module.\n1) In the early design stage, they run prototypes to failure under overstress to identify design weaknesses.\n2) After design improvements, they run a formal test to prove MTBF ≥ 50,000 hours at 90% confidence.\n3) For each production lot, they test a sample of units and decide whether to accept or reject the lot.\n4) For high-reliability applications, they also add a burn-in step to remove early-life failures.\n\nQ10-1. Step (1) is BEST classified as:",
        "backText": "정답: Development test"
      },
      {
        "id": "TT_Q10_2",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "A company is developing a new electronic module.\n1) In the early design stage, they run prototypes to failure under overstress to identify design weaknesses.\n2) After design improvements, they run a formal test to prove MTBF ≥ 50,000 hours at 90% confidence.\n3) For each production lot, they test a sample of units and decide whether to accept or reject the lot.\n4) For high-reliability applications, they also add a burn-in step to remove early-life failures.\n\nQ10-2. Step (2) is BEST classified as:",
        "backText": "정답: Demonstration test"
      },
      {
        "id": "TT_Q10_3",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "A company is developing a new electronic module.\n1) In the early design stage, they run prototypes to failure under overstress to identify design weaknesses.\n2) After design improvements, they run a formal test to prove MTBF ≥ 50,000 hours at 90% confidence.\n3) For each production lot, they test a sample of units and decide whether to accept or reject the lot.\n4) For high-reliability applications, they also add a burn-in step to remove early-life failures.\n\nQ10-3. Step (3) is BEST classified as:",
        "backText": "정답: Acceptance test / Sampling test"
      },
      {
        "id": "TT_Q10_4",
        "topic": "CRE MAKER - Reliability Test Types",
        "frontText": "A company is developing a new electronic module.\n1) In the early design stage, they run prototypes to failure under overstress to identify design weaknesses.\n2) After design improvements, they run a formal test to prove MTBF ≥ 50,000 hours at 90% confidence.\n3) For each production lot, they test a sample of units and decide whether to accept or reject the lot.\n4) For high-reliability applications, they also add a burn-in step to remove early-life failures.\n\nQ10-4. Step (4) is BEST classified as:",
        "backText": "정답: Screening test (burn-in)"
      },
      {
        "id": "RISK_Q1",
        "topic": "CRE MAKER - Risk Analysis Methods",
        "frontText": "Q1. A team wants to identify component-level failure modes, their causes, and the effects on the next higher assembly. The team also wants to prioritize actions using severity/occurrence/detection ratings.\nWhich method is MOST appropriate?\n\n(A) Fault Tree Analysis (FTA)\n(B) FMEA / FMECA\n(C) Event Tree Analysis (ETA)\n(D) Reliability Block Diagram (RBD)",
        "backText": "정답: (B)\n\n해설: 부품/기능 단위 Bottom-up, S/O/D로 우선순위(RPN 등) → FMEA/FMECA."
      },
      {
        "id": "RISK_Q2",
        "topic": "CRE MAKER - Risk Analysis Methods",
        "frontText": "Q2. A plant experienced a “System shutdown” top event. Engineers want to model logical combinations of causes (AND/OR gates) that can lead to this top event.\nWhich method is MOST appropriate?\n\n(A) Fault Tree Analysis (FTA)\n(B) FMEA\n(C) Control chart\n(D) DOE",
        "backText": "정답: (A)\n\n해설: Top-down, deductive, AND/OR로 원인 조합 분석 → FTA."
      },
      {
        "id": "RISK_Q3",
        "topic": "CRE MAKER - Risk Analysis Methods",
        "frontText": "Q3. After a loss-of-coolant initiating event, engineers want to evaluate sequences of safety system successes/failures to estimate outcomes (minor incident vs major accident).\nWhich method fits BEST?\n\n(A) FTA\n(B) FMEA\n(C) Event Tree Analysis (ETA)\n(D) Pareto chart",
        "backText": "정답: (C)\n\n해설: Initiating event → 분기(성공/실패) 시나리오 전개는 ETA(Forward, inductive)."
      },
      {
        "id": "RISK_Q4",
        "topic": "CRE MAKER - Risk Analysis Methods",
        "frontText": "Q4. A chemical process team reviews a P&ID and uses guidewords such as “More/ Less/ None/ Reverse” to identify deviations and hazards.\nWhich method is being used?\n\n(A) FTA\n(B) FMEA\n(C) HAZOP\n(D) RBD",
        "backText": "정답: (C)\n\n해설: Guideword 기반 편차 분석 = HAZOP."
      },
      {
        "id": "RISK_Q5",
        "topic": "CRE MAKER - Risk Analysis Methods",
        "frontText": "Q5. A manager wants a quick method to rank risks using a grid of Severity vs Likelihood (e.g., low/med/high) for many hazards when data are limited.\nWhich approach is BEST?\n\n(A) Weibull analysis\n(B) Risk matrix\n(C) Markov modeling\n(D) Regression",
        "backText": "정답: (B)\n\n해설: 데이터 부족 시 정성(또는 반정량) 위험순위화 → risk matrix."
      },
      {
        "id": "RISK_Q6",
        "topic": "CRE MAKER - Risk Analysis Methods",
        "frontText": "Q6. Two failure modes have the same RPN=120.\n- Mode A: Severity=10, Occurrence=2, Detection=6\n- Mode B: Severity=5, Occurrence=6, Detection=4\nWhich statement is MOST accurate?\n\n(A) They are equally critical; treat them the same\n(B) Mode B is always worse because occurrence is higher\n(C) RPN alone can be misleading; Severity should be separately considered\n(D) Detection rating is irrelevant",
        "backText": "정답: (C)\n\n해설: RPN은 곱셈이라 치명도(Severity)가 큰 모드가 묻힐 수 있음 → CRE에서 자주 나오는 포인트."
      },
      {
        "id": "RISK_Q7",
        "topic": "CRE MAKER - Risk Analysis Methods",
        "frontText": "Q7. A standby redundant system has repair and imperfect switching behavior. The engineer needs to model state transitions over time (up/down states with repair rates).\nWhich technique is MOST appropriate?\n\n(A) RBD only\n(B) Markov model\n(C) Pareto chart\n(D) Histogram",
        "backText": "정답: (B)\n\n해설: 수리/스위칭/상태전이 포함되면 Markov가 강함. (RBD는 상태의 동적 전이를 표현하기 어려움)"
      },
      {
        "id": "RISK_Q8",
        "topic": "CRE MAKER - Risk Analysis Methods",
        "frontText": "Q8. A system has two redundant channels. Field data suggest both channels sometimes fail due to a shared environmental stress (common cause).\nWhich is the BEST next step?\n\n(A) Continue using only FMEA; redundancy guarantees safety\n(B) Perform Common Cause Failure (CCF) analysis / incorporate into fault tree\n(C) Use a control chart\n(D) Ignore; rare events don’t matter",
        "backText": "정답: (B)\n\n해설: 리던던시는 CCF에 취약 → FTA/CCF 반영이 실전 포인트."
      },
      {
        "id": "INT_Q9",
        "topic": "CRE MAKER - Interaction Plot (DOE/ANOVA)",
        "frontText": "Q9. An interaction plot shows two lines (Factor B levels) across Factor A levels. The lines are nearly parallel.\nWhat is the BEST interpretation?\n\n(A) Strong interaction exists\n(B) Little to no interaction; main effects dominate\n(C) Randomization failed\n(D) Aliasing must be present",
        "backText": "정답: (B)\n\n해설: 교호작용 플롯에서 평행=상호작용 거의 없음."
      },
      {
        "id": "INT_Q10",
        "topic": "CRE MAKER - Interaction Plot (DOE/ANOVA)",
        "frontText": "Q10. An interaction plot shows the lines crossing:\n- When A=Low, B1 > B2\n- When A=High, B2 > B1\nWhat does this imply?\n\n(A) No interaction\n(B) Measurement error\n(C) Strong interaction; the effect of B depends on A\n(D) Only B matters",
        "backText": "정답: (C)\n\n해설: 교차는 대표적인 강한 교호작용(Effect reversal) 신호."
      },
      {
        "id": "INT_Q11",
        "topic": "CRE MAKER - Interaction Plot (DOE/ANOVA)",
        "frontText": "Q11. Yield(%) 결과 평균이 아래와 같다.\n\n- A1,B1 = 80\n- A1,B2 = 60\n- A2,B1 = 70\n- A2,B2 = 90\n\nWhich statement is MOST accurate?\n\n(A) A2 is always better than A1\n(B) B1 is always better than B2\n(C) Interaction exists because the best B level changes with A\n(D) No interaction because averages are similar",
        "backText": "정답: (C)\n\n해설: A1에서는 B1이 좋고, A2에서는 B2가 더 좋음 → 교호작용."
      },
      {
        "id": "INT_Q12",
        "topic": "CRE MAKER - Interaction Plot (DOE/ANOVA)",
        "frontText": "Q12. A manager looks only at main effects and concludes “B2 is better overall.” But the interaction plot shows crossing lines.\nWhat is the BEST critique?\n\n(A) Main effects are always sufficient\n(B) Main effects can be misleading when interaction is present\n(C) Interaction means the experiment is invalid\n(D) Interaction can be ignored if sample size is large",
        "backText": "정답: (B)\n\n해설: 교호작용 있으면 “평균의 평균”은 함정이 될 수 있음 → 조건별 최적이 달라짐."
      },
      {
        "id": "INT_Q13",
        "topic": "CRE MAKER - Interaction Plot (DOE/ANOVA)",
        "frontText": "Q13. Using the same table from Q11, if the goal is maximize yield, which factor setting is BEST?\n\n(A) A1,B1\n(B) A1,B2\n(C) A2,B1\n(D) A2,B2",
        "backText": "정답: (D)\n\n해설: 최고 평균이 90인 조합 선택. (단, 비용/공정 안정성 조건이 추가되면 답이 바뀔 수 있음)"
      },
      {
        "id": "INT_Q14",
        "topic": "CRE MAKER - Interaction Plot (DOE/ANOVA)",
        "frontText": "Q14. Which statement about interaction plots is MOST correct?\n\n(A) Crossing lines always prove causation\n(B) Non-parallel lines always mean measurement error\n(C) Interaction plots suggest effect dependency, but statistical confirmation typically uses ANOVA interaction term (p-value)\n(D) If lines cross, you must abandon the experiment",
        "backText": "정답: (C)\n\n해설: 그래프는 “힌트”, 최종 판정은 보통 ANOVA의 교호작용 항(A×B) 유의성으로 확인."
      },
      {
        "id": "BG_Q1_BETA_POST",
        "topic": "CRE MAKER - Beta & Gamma Distributions",
        "frontText": "Q1. (베이지안 업데이트) 불량률 p\n어떤 공정의 불량률 p에 대해 사전분포가 p \\sim \\text{Beta}(2,8) 라고 하자.\n샘플 20개를 검사했더니 불량이 3개 나왔다.\n\n사후분포는?\n- (A) Beta(5,25)\n- (B) Beta(22,11)\n- (C) Beta(2,11)\n- (D) Beta(8,2)",
        "backText": "정답: (A)\n\n해설: 베타-이항 결합. \\(\\alpha'=\\alpha+x=2+3=5\\), \\(\\beta'=\\beta+(n-x)=8+17=25\\)."
      },
      {
        "id": "BG_Q2_BETA_SUPPORT",
        "topic": "CRE MAKER - Beta & Gamma Distributions",
        "frontText": "Q2. (분포 선택) 0~1 사이 “비율” 모델링\n다음 중 0과 1 사이 값(예: 신뢰도, 불량률, 수율)을 확률분포로 모델링할 때 가장 적절한 것은?\n- (A) 정규분포\n- (B) 지수분포\n- (C) 베타분포\n- (D) 감마분포",
        "backText": "정답: (C)\n\n해설: Beta는 정의역이 [0,1]이라 비율/확률 파라미터에 딱 맞음."
      },
      {
        "id": "BG_Q3_BETA_MAP",
        "topic": "CRE MAKER - Beta & Gamma Distributions",
        "frontText": "Q3. (MAP 추정) “임무 성공확률 R” 추정\n어떤 장치의 “임무 성공확률” R에 대해 사전분포가 R \\sim \\text{Beta}(4,2) 이다.\n임무시험 10회를 수행해 7회 성공, 3회 실패했다.\n\n사후분포의 MAP(최빈값) 추정치는?\n- (A) 0.50\n- (B) 0.625\n- (C) 0.714\n- (D) 0.875",
        "backText": "정답: (C)\n\n해설: 사후분포 \\( \\text{Beta}(4+7,\\,2+3)=\\text{Beta}(11,5)\\).\nMAP \\(=\\frac{\\alpha-1}{\\alpha+\\beta-2}=\\frac{11-1}{11+5-2}=\\frac{10}{14}=0.714\\)."
      },
      {
        "id": "BG_Q4_BETA_PRED",
        "topic": "CRE MAKER - Beta & Gamma Distributions",
        "frontText": "Q4. (예측확률) 다음 5개가 “전부 양품”일 확률\n불량률 p\\sim \\text{Beta}(2,8) (사전정보만 있음).\n다음 5개를 뽑았을 때 불량이 0개일 확률로 가장 가까운 값은?\n- (A) 0.10\n- (B) 0.25\n- (C) 0.40\n- (D) 0.75",
        "backText": "정답: (C)\n\n해설: 베타-이항 예측(Beta-binomial).\n\\(P(X=0)=\\dfrac{B(\\alpha,\\beta+5)}{B(\\alpha,\\beta)} \\approx 0.396\\) (≈ 0.40)"
      },
      {
        "id": "BG_Q5_GAMMA_POISSON",
        "topic": "CRE MAKER - Beta & Gamma Distributions",
        "frontText": "Q5. (포아송 과정) “k번째 고장까지 시간”\n고장이 포아송 과정을 따르고 고장률이 \\(\\lambda=0.002\\) failures/hour 라고 하자.\n3번째 고장까지 걸리는 시간 \\(T_3\\)의 분포로 옳은 것은?\n- (A) 정규분포\n- (B) 지수분포\n- (C) 베타분포\n- (D) 감마분포",
        "backText": "정답: (D)\n\n해설: 포아송 과정에서 “k번째 사건까지 시간”은 \\( \\text{Gamma}(k,\\text{rate}=\\lambda)\\)."
      },
      {
        "id": "BG_Q6_GAMMA_MEAN",
        "topic": "CRE MAKER - Beta & Gamma Distributions",
        "frontText": "Q6. (기댓값) k번째 고장까지 평균 시간\n위 Q5 조건에서 \\(T_3\\)의 기댓값은?\n- (A) 500 hr\n- (B) 1000 hr\n- (C) 1500 hr\n- (D) 3000 hr",
        "backText": "정답: (C)\n\n해설: \\(E[T_k]=k/\\lambda=3/0.002=1500\\) hr."
      },
      {
        "id": "BG_Q7_GAMMA_POST",
        "topic": "CRE MAKER - Beta & Gamma Distributions",
        "frontText": "Q7. (베이지안) 지수수명 고장률 \\(\\lambda\\)의 사후분포\n수명이 지수분포(\\(\\lambda\\) 미지)라고 가정한다.\n사전분포 \\( \\lambda \\sim \\text{Gamma}(\\alpha=2,\\ \\beta=1000)\\) (여기서 \\(\\beta\\)는 rate 업데이트에 시간 T가 더해지는 형태, 즉 \\(\\beta'=\\beta+T\\)).\n시험 총 누적시간 \\(T=2000\\) unit-hours 동안 고장이 \\(r=6\\)회 발생했다.\n\n사후분포는?\n- (A) Gamma(8, 3000)\n- (B) Gamma(2, 3006)\n- (C) Gamma(6, 2002)\n- (D) Gamma(2000, 8)",
        "backText": "정답: (A)\n\n해설: 감마-지수(포아송) 결합. \\(\\alpha'=\\alpha+r=8\\), \\(\\beta'=\\beta+T=3000\\)."
      },
      {
        "id": "BG_Q8_GAMMA_POSTMEAN",
        "topic": "CRE MAKER - Beta & Gamma Distributions",
        "frontText": "Q8. (사후평균 고장률) \\(\\mathbb{E}[\\lambda \\mid data]\\)\nQ7의 사후분포에서 사후평균 고장률은?\n- (A) 0.0010 /hr\n- (B) 0.0020 /hr\n- (C) 0.00267 /hr\n- (D) 0.0060 /hr",
        "backText": "정답: (C)\n\n해설: Gamma(shape \\(\\alpha'\\), rate \\(\\beta'\\))에서 평균은 \\(\\alpha'/\\beta' = 8/3000=0.00267\\) /hr."
      },
      {
        "id": "BG_Q9_MATCH",
        "topic": "CRE MAKER - Beta & Gamma Distributions",
        "frontText": "Q9. (어떤 분포를 어디에 쓰나?)\n다음 매칭 중 가장 적절한 것은?\n- (A) 불량률 \\(p\\) → 감마, 고장률 \\(\\lambda\\) → 베타\n- (B) 불량률 \\(p\\) → 정규, 고장률 \\(\\lambda\\) → 베타\n- (C) 불량률/성공확률 \\(p\\) → 베타, 지수수명 고장률 \\(\\lambda\\) → 감마\n- (D) 둘 다 항상 정규로 근사하면 된다",
        "backText": "정답: (C)\n\n해설: \\(p\\in[0,1]\\) 확률 파라미터는 Beta, \\(\\lambda>0\\) (rate) 같은 양수 파라미터는 Gamma가 대표적."
      },
        {
    id: "CRE-M01",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M01\n\n지문: Accelerated Life Testing(ALT)의 주요 이점으로 가장 적절한 것은?\n\n보기(A~D)\n(A) 정상조건에서만 시험하여 수명 예측 오차를 제거한다\n(B) Major 고장만 예측하고 Minor 결함은 식별하지 않는다\n(C) 스트레스를 가해 고장을 빠르게 유발하여 시간·비용을 절감하고 수명/메커니즘 분석에 활용한다\n(D) 신뢰성 성장모델(Duane/AMSAA)을 대체하는 유일한 방법이다",
    backText:
      "정답: (C)\n\n짧은 해설: ALT는 가속조건에서 고장을 빨리 발생시켜 비용/기간을 줄이고, 모델로 정상조건 수명 추정에 활용한다."
  },
  {
    id: "CRE-M02",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M02\n\n지문: 가속 수명시험의 그래픽(도해) 분석의 대표 장점은?\n\n보기(A~D)\n(A) 분포 가정 없이도 항상 동일한 결론을 준다\n(B) 정상조건 수명으로 외삽(extrapolation)해 예상 수명을 추정할 수 있다\n(C) 표본 수가 작을수록 더 정확해진다\n(D) 가속계수(AF)를 계산할 필요가 없다",
    backText:
      "정답: (B)\n\n짧은 해설: 가속조건에서 얻은 관계를 이용해 사용조건(정상조건) 성능/수명으로 외삽하는 것이 핵심."
  },
  {
    id: "CRE-M03",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M03\n\n지문: Monte Carlo 시뮬레이션이 특히 유용한 상황은?\n\n보기(A~D)\n(A) 동질 집단에서 무작위 표본추출을 보장하기 위해\n(B) 무작위 변동이 핵심인 시스템을 난수 반복으로 모사해 성능/리스크 분포를 추정하기 위해\n(C) 공정 평균을 0으로 중심교정하기 위해\n(D) 닫힌형 해(analytic solution)를 항상 정확히 구하기 위해",
    backText:
      "정답: (B)\n\n짧은 해설: 불확실성을 난수로 샘플링해 결과 분포(리스크/성능)를 근사한다."
  },
  {
    id: "CRE-M04",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M04\n\n지문: 신뢰성 있는 제품 설계의 주요 목표로 가장 적절한 것은?\n\n보기(A~D)\n(A) 단기 이윤 최대화\n(B) 수명주기비용(LCC) 최소화\n(C) 보증기간 단축\n(D) 생산량 극대화",
    backText:
      "정답: (B)\n\n짧은 해설: 초기비용+고장/정비/다운타임 등 전체 수명주기 비용을 최소화하는 방향이 핵심."
  },
  {
    id: "CRE-M05",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M05\n\n지문: 보전성(Maintainability) 예측이 평가하는 대상은?\n\n보기(A~D)\n(A) 시스템 효율\n(B) 고장 후 복구/수리 가능성(예: MTTR)\n(C) 공정능력(Cp, Cpk)\n(D) 공정 산포(σ)만",
    backText:
      "정답: (B)\n\n짧은 해설: 보전성은 “얼마나 빨리/쉽게 복구되는가”를 다룬다."
  },
  {
    id: "CRE-M06",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M06\n\n지문: 신뢰성 문제해결에서 데이터 수집을 포함한 프로세스의 이상적인 “마지막 단계”는?\n\n보기(A~D)\n(A) 문제 식별\n(B) 상황 분석\n(C) 문제 보고\n(D) 근본원인 분석(RCA) 및 재발방지 확정",
    backText:
      "정답: (D)\n\n짧은 해설: 최종은 원인 규명→대책 확정(검증 포함)으로 닫는 것."
  },
  {
    id: "CRE-M07",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M07\n\n지문: Arrhenius 가속계수(AF)가 달라지는 주요 요인으로 가장 적절한 것은?\n\n보기(A~D)\n(A) 고장분포 종류(정규/와이블 등)\n(B) 고장 메커니즘(활성화에너지 등 물리적 기전)\n(C) 표본의 제조국가\n(D) 관리도 관리한계 폭",
    backText:
      "정답: (B)\n\n짧은 해설: Arrhenius는 물리적 반응속도/메커니즘에 의해 AF가 좌우된다."
  },
  {
    id: "CRE-M08",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M08\n\n지문: 신뢰성 향상과 설계 성숙도를 얻는 가장 효과적인 방법은?\n\n보기(A~D)\n(A) Duane 성장모델을 적용한다\n(B) Test–Analyze–Fix(TAAF)를 구조적으로 반복한다\n(C) 출하검사를 강화한다\n(D) 보고서를 더 많이 작성한다",
    backText:
      "정답: (B)\n\n짧은 해설: 성장모델은 “측정” 도구, 성숙은 TAAF 폐루프가 만든다."
  },
  {
    id: "CRE-M09",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M09\n\n지문: 누적 시험시간 T=50,000 hr, 고장 r=4(지수분포). MTBF의 90% 단측 하한 신뢰한계(MTBF LCL)는?\n(공식: MTBF_L = 2T / χ²_(2r+2, 0.90))\n\n보기(A~D)\n(A) 4,865 hr\n(B) 6,255 hr\n(C) 10,000 hr\n(D) 12,500 hr",
    backText:
      "정답: (B)\n\n짧은 해설: df=10, χ²(10,0.90)=15.987 → 2×50,000/15.987 ≈ 6,255 hr."
  },
  {
    id: "CRE-M10",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M10\n\n지문: 관측 중단(censoring)의 의미로 가장 적절한 것은?\n\n보기(A~D)\n(A) 편향된 데이터만 사용한 시험\n(B) 모든 시료가 고장날 때까지 수행한 시험\n(C) 일부 시료는 고장하지 않은 채 시험 종료/이탈되어 “고장시간이 완전 관측되지 않는” 데이터가 포함된 상태\n(D) 번인(burn-in)만 수행한 시험",
    backText:
      "정답: (C)\n\n짧은 해설: 중단/검열은 “미고장 시료 포함”으로 고장시간이 부분 관측되는 것."
  },
  {
    id: "CRE-M11",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M11\n\n지문: RCM(Reliability-Centered Maintenance)의 목적에 가장 부합하는 것은?\n\n보기(A~D)\n(A) 치명 부품의 정비주기를 무조건 최소화\n(B) 재고를 줄이기 위해 비치명 부품 제거\n(C) 기능을 유지하기 위해 고장모드별 최적 정비과업/우선순위를 선정\n(D) 예방정비를 전면 중단",
    backText:
      "정답: (C)\n\n짧은 해설: RCM은 기능 중심으로 고장모드 기반 정비전략을 선택·우선순위화한다."
  },
  {
    id: "CRE-M12",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M12\n\n지문: 50개 유닛을 50시간 시험. 고장난 유닛은 제거(미교체). 시험은 50시간에서 종료. 해당 데이터는?\n\n보기(A~D)\n(A) 좌측 중단(left censoring)\n(B) 시간 관측 중단(time censoring, Type I)\n(C) 고장수 관측 중단(failure censoring, Type II)\n(D) 무중단(complete data)",
    backText:
      "정답: (B)\n\n짧은 해설: 종료 기준이 “시간 고정”이면 Type I(시간 중단)."
  },
  {
    id: "CRE-M13",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M13\n\n지문: 신뢰할 수 있는 제품을 지속적으로 제공하기 위한 핵심요소로 가장 적절한 것은?\n\n보기(A~D)\n(A) 유지보수 활동을 일정대로 수행 보장\n(B) 장비 점검 주기만 보장\n(C) 제품/공정 변동성(variation) 감소\n(D) 검사 비율 100%",
    backText:
      "정답: (C)\n\n짧은 해설: 변동성 감소가 성능/수명 일관성을 직접 개선한다."
  },
  {
    id: "CRE-M14",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M14\n\n지문: DOE에서 “블록(block)”의 올바른 정의는?\n\n보기(A~D)\n(A) 서로 다른 처리를 적용할 수 있는 비교적 균질한 실험단위의 집합\n(B) 추정 정밀도를 높이기 위해 측정을 여러 번 반복하는 것(=반복측정)\n(C) 반응(response)의 수준(level)\n(D) 교락(confounding)을 제거하는 통계검정",
    backText:
      "정답: (A)\n\n짧은 해설: 블록은 유사 단위끼리 묶어 블록효과를 분리하고 처리 비교를 명확히 한다."
  },
  {
    id: "CRE-M15",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M15\n\n지문: 단위 시간당 다운타임을 최소화하려는 교체정책으로 가장 적절한 것은? (마모형 고장률 증가 가정)\n\n보기(A~D)\n(A) 항상 고장 시 교체(run-to-failure)\n(B) 최소 수리만 반복\n(C) 임의 시점 예방교체\n(D) 미리 정한 시점/연령에 예방교체(age/block replacement)",
    backText:
      "정답: (D)\n\n짧은 해설: 고장률이 증가(웨어아웃)할 때 계획 예방교체가 다운타임을 줄인다."
  },
  {
    id: "CRE-M16",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M16\n\n지문: 신뢰성 정의에 반드시 포함되어야 하는 요소는?\n\n보기(A~D)\n(A) 안전운영 요구사항\n(B) 필수 기능(Required function)\n(C) 생산량\n(D) 이익률",
    backText:
      "정답: (B)\n\n짧은 해설: 신뢰성은 “정해진 환경/기간 동안 요구 기능 수행 확률”이므로 기능 정의가 필수."
  },
  {
    id: "CRE-M17",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M17\n\n지문: 위험 분석(Risk analysis)이 가장 직접적으로 지원하는 활동은?\n\n보기(A~D)\n(A) 색상 표준화\n(B) 로고 디자인\n(C) 사무실 레이아웃\n(D) 자원(인력/비용/시간) 할당 및 우선순위 결정",
    backText:
      "정답: (D)\n\n짧은 해설: 리스크 크기를 근거로 어디에 집중할지 결정한다."
  },
  {
    id: "CRE-M18",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M18\n\n지문: 프로젝트 일정관리에서 불확실성(기간 변동)을 다루기 위해 설계된 기법은?\n\n보기(A~D)\n(A) CPM\n(B) 간트 차트\n(C) PERT\n(D) 체크시트",
    backText:
      "정답: (C)\n\n짧은 해설: PERT는 3점 추정 등으로 기간 불확실성을 반영한다."
  },
  {
    id: "CRE-M19",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M19\n\n지문: 대형 조직에서 품질부서와 신뢰성부서의 최적 관계는?\n\n보기(A~D)\n(A) 신뢰성이 품질을 지휘한다\n(B) 품질이 신뢰성을 지휘한다\n(C) 책임이 일부 중복되므로 상호 협력/조율한다\n(D) 완전히 독립 운영한다",
    backText:
      "정답: (C)\n\n짧은 해설: 품질·신뢰성은 교집합이 있어 협업이 최적."
  },
  {
    id: "CRE-M20",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M20\n\n지문: Duane/Crow 성장모델 해석에서 “순간 MTBF 목표 2000 hr 달성”을 확인하려면 언제의 데이터가 중요하며, 추가 활동은 언제 필요한가?\n\n보기(A~D)\n(A) 순간 MTBF가 2000 hr 이상인 구간에서만 추가 테스트가 필요하다\n(B) 순간 MTBF가 2000 hr 미만인 구간에서 TAAF(수정/검증)와 추가 테스트가 필요하다\n(C) 누적 MTBF만 보면 되므로 순간 MTBF는 불필요하다\n(D) α 값만 맞추면 추가 테스트는 필요 없다",
    backText:
      "정답: (B)\n\n짧은 해설: 목표 미달 구간에서 원인 제거(TAAF)와 검증을 수행해 순간 MTBF를 끌어올린다."
  },
  {
    id: "CRE-M21",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M21\n\n지문: 마모(wear)의 정의로 가장 적절한 것은?\n\n보기(A~D)\n(A) 과전류에 의한 절연 파괴\n(B) 상대적으로 부드러운 표면이 단단한 표면과 상호작용하며 재료 손실이 누적되는 현상\n(C) 단 1회의 충격으로 즉시 파손\n(D) 소프트웨어 버그로 기능 상실",
    backText:
      "정답: (B)\n\n짧은 해설: 접촉/마찰로 재료 제거·변형이 누적되는 열화 현상."
  },
  {
    id: "CRE-M22",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M22\n\n지문: 공통원인고장(CCF)이 성립하기 위한 가장 근본적인 전제는?\n\n보기(A~D)\n(A) 공유 전원 공급장치가 있어야 한다\n(B) 대기 서브시스템이 있어야 한다\n(C) 경고 시스템이 있어야 한다\n(D) 동일 기능을 수행하는 중복(리던던트) 경로/요소가 있어야 한다",
    backText:
      "정답: (D)\n\n짧은 해설: CCF는 “리던던시가 한 원인으로 함께 무력화”되는 개념이므로 전제는 중복 구조."
  },
  {
    id: "CRE-M23",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M23\n\n지문: 지수분포 가정에서 고장 데이터로 MTBF의 90% 단측 하한 신뢰한계를 구할 때 쓰는 형태로 가장 적절한 것은?\n\n보기(A~D)\n(A) MTBF_L = T/r\n(B) MTBF_L = 2T / χ²_(2r+2, 0.90)\n(C) MTBF_L = χ²_(2r,0.90) / (2T)\n(D) MTBF_L = (USL−LSL)/(6σ)",
    backText:
      "정답: (B)\n\n짧은 해설: MTBF 하한은 카이제곱 분위수를 이용해 보수적으로 산정한다(지수 가정)."
  },
  {
    id: "CRE-M24",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M24\n\n지문: 무고장 시연 테스트: n=7개를 동일 미션으로 시험했더니 0 failures. 90% 신뢰수준에서 신뢰도 하한 R_L는?\n\n보기(A~D)\n(A) R_L = 0.1^(1/7) = 0.7197\n(B) R_L = 0.9^(1/7) = 0.9851\n(C) R_L = 1 − 0.1/7 = 0.9857\n(D) R_L = 0.9 − 0.1/7 = 0.8857",
    backText:
      "정답: (B)\n\n짧은 해설: 0 failures이면 P(0)=R^n → R_L=(1−α)^(1/n)=0.9^(1/7)."
  },
  {
    id: "CRE-M25",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M25\n\n지문: 두 모집단이 정규이며 분산이 동일하다고 가정할 때, 두 평균 차이에 대한 2-표본 t통계량은?\n\n보기(A~D)\n(A) (x̄1−x̄2)/sqrt(s1^2/n1 + s2^2/n2)\n(B) (x̄1−x̄2)/(s_p * sqrt(1/n1 + 1/n2)),  s_p^2=[(n1−1)s1^2+(n2−1)s2^2]/(n1+n2−2)\n(C) (x̄1−x̄2)/(s1+s2)\n(D) (x̄1−x̄2)/s_p",
    backText:
      "정답: (B)\n\n짧은 해설: 등분산이면 pooled 분산 s_p를 쓰는 2-sample t가 정석."
  },
  {
    id: "CRE-M26",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M26\n\n지문: n=200 수명시험에서 14개 고장. 신뢰도 점추정 R̂과 95% 양측 신뢰구간(정규근사)으로 가장 적절한 것은?\n\n보기(A~D)\n(A) R̂=0.93, CI≈(0.895, 0.965)\n(B) R̂=0.07, CI≈(0.035, 0.105)\n(C) R̂=0.86, CI≈(0.820, 0.900)\n(D) R̂=0.93, CI≈(0.930, 0.930)",
    backText:
      "정답: (A)\n\n짧은 해설: R̂=1−14/200=0.93, SE≈sqrt(0.93·0.07/200)≈0.018 → ±1.96SE."
  },
  {
    id: "CRE-M27",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M27\n\n지문: 20개 유닛을 “고장 시 즉시 교체”하며 시험. 10번째 고장이 t=80hr에 발생(지수 가정). (1) MTTF 점추정, (2) 90% 단측 MTTF 하한은?\n\n보기(A~D)\n(A) (1) 8hr, (2) 5hr\n(B) (1) 160hr, (2) 104hr\n(C) (1) 200hr, (2) 160hr\n(D) (1) 1600hr, (2) 1000hr",
    backText:
      "정답: (B)\n\n짧은 해설: 누적시간 T=20×80=1600. 점추정 T/r=160. 하한 2T/χ²_(22,0.90)=3200/30.813≈104."
  },
  {
    id: "CRE-M28",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M28\n\n지문: 공통원인고장(CCF)의 정의로 가장 적절한 것은?\n\n보기(A~D)\n(A) 직렬시스템에서 간헐적으로 발생하는 단일 고장\n(B) 중복 시스템에서 단일 원인으로 다중 경로/요소가 함께 고장\n(C) 시스템 기능 상실을 유발하는 모든 고장\n(D) 복잡한 시스템에서 나타나는 모든 고장",
    backText:
      "정답: (B)\n\n짧은 해설: CCF는 “리던던시가 같은 원인으로 동시에 무력화”되는 상황."
  },
  {
    id: "CRE-M29",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M29\n\n지문: 고장률 λ=0.001/hr, 하루 20hr 운용. 20일(총 400hr) 동안 신뢰도 0.95 이상을 달성하려 한다. 고장 시 즉시 교체, 완벽 스위칭의 대기(순차) 리던던시에서 필요한 최소 여분(spare) 수는?\n\n보기(A~D)\n(A) 0\n(B) 1\n(C) 2\n(D) 3",
    backText:
      "정답: (C)\n\n짧은 해설: λt=0.4. Poisson에서 P(N≤1)=0.938<0.95, P(N≤2)=0.992≥0.95 → spare 2개."
  },
  {
    id: "CRE-M30",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M30\n\n지문: FTA(Fault Tree Analysis)의 대표 장점으로 가장 적절한 것은?\n\n보기(A~D)\n(A) 모든 fault를 동시에 다룬다\n(B) 부품수준 이벤트 영향만 다룬다\n(C) 항상 고장률 데이터가 필수다\n(D) 특정 Top Event 하나에 집중해 논리적으로 원인을 전개한다",
    backText:
      "정답: (D)\n\n짧은 해설: FTA는 Top Event 중심의 원인 조합(AND/OR)을 체계적으로 분석한다."
  },
  {
    id: "CRE-M31",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M31\n\n지문: 제품 안전 설계(product safety design)의 목적에 가장 부합하는 것은?\n\n보기(A~D)\n(A) 오사용/실사용 환경에서 소비자 부상 위험을 감소\n(B) 근본원인분석 비용을 줄이기 위해 시험을 생략\n(C) 수익률을 즉시 극대화\n(D) 고장 데이터 수집을 금지",
    backText:
      "정답: (A)\n\n짧은 해설: 안전 설계는 hazard를 제거/완화해 사용자 위해를 줄이는 것이 목적."
  },
  {
    id: "CRE-M32",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M32\n\n지문: 최적 교체정책의 기본원칙으로 가장 적절한 것은?\n\n보기(A~D)\n(A) 예방교체 횟수 최소화\n(B) 고장교체만 수행\n(C) 재고 최소화가 유일한 목적\n(D) 총 보전비용(예방+고장+다운타임)을 최소화",
    backText:
      "정답: (D)\n\n짧은 해설: 정책은 총비용(또는 총손실) 최소화로 정식화하는 것이 표준."
  },
  {
    id: "CRE-M33",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M33\n\n지문: 혼합(서브팝) 시스템: 30%는 지수(평균 5000 cycles), 70%는 Weibull(η=4000, β=2). 1000 cycles에서 신뢰도는?\n\n보기(A~D)\n(A) 0.8187\n(B) 0.9394\n(C) 0.9032\n(D) 0.7000",
    backText:
      "정답: (C)\n\n짧은 해설: R=0.3·e^(−1000/5000)+0.7·e^−(1000/4000)^2=0.3·0.8187+0.7·0.9394=0.9032."
  },
  {
    id: "CRE-M34",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M34\n\n지문: 위험 관리(Risk management)의 초점으로 가장 적절한 것은?\n\n보기(A~D)\n(A) 알 수 없는 위험에 임의 확률 할당\n(B) 모든 위험을 0으로 만들기\n(C) 문서량 증가\n(D) 중요한 위험을 평가하고 적절한 대응을 구현/추적",
    backText:
      "정답: (D)\n\n짧은 해설: 핵심은 “중요 리스크의 평가→대응 실행→모니터링”이다."
  },
  {
    id: "CRE-M35",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M35\n\n지문: 다구치 설계에서 잡음인자(noise factor)의 예로 가장 적절한 것은?\n\n보기(A~D)\n(A) 주변 온도\n(B) 제어 가능한 공정 설정값\n(C) 부품 치수(설계로 관리 가능)\n(D) 처리 수준(level)",
    backText:
      "정답: (A)\n\n짧은 해설: 잡음인자는 통제가 어렵거나 비용이 큰 외란(환경/사용조건)."
  },
  {
    id: "CRE-M36",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M36\n\n지문: 2개 구성품이 부하를 공유(load-sharing)하는 능동 병렬. 공유 중 각 구성품 고장률은 λ/2, 한쪽 고장 후 남은 1개는 고장률 λ로 운용. 시스템 신뢰도 R(t)는?\n\n보기(A~D)\n(A) e^(−λt)\n(B) e^(−2λt)\n(C) e^(−λt)(1+λt)\n(D) 1 − (1 − e^(−λt))^2",
    backText:
      "정답: (C)\n\n짧은 해설: 첫 고장까지 총률 λ, 이후 단독률 λ → R(t)=e^(−λt)(1+λt)."
  },
  {
    id: "CRE-M37",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M37\n\n지문: 모집단 분산(σ)을 모르는 경우 표본평균의 95% 신뢰구간에 일반적으로 사용하는 분포는? (정규성 가정, n이 크지 않음)\n\n보기(A~D)\n(A) Z 분포\n(B) t 분포\n(C) 카이제곱 분포\n(D) 포아송 분포",
    backText:
      "정답: (B)\n\n짧은 해설: σ 미지이면 표준적으로 t-구간을 사용(특히 n이 작을 때)."
  },
  {
    id: "CRE-M38",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M38\n\n지문: 순차 시험(Sequential test)의 OC 곡선이 제공하는 정보는?\n\n보기(A~D)\n(A) MTTR 분포\n(B) Cp 값\n(C) 피로 한계\n(D) 실제 MTBF 값에 따른 “합격 확률”",
    backText:
      "정답: (D)\n\n짧은 해설: OC는 “진짜 품질(또는 MTBF)이 이 정도일 때 합격할 확률”을 보여준다."
  },
  {
    id: "CRE-M39",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M39\n\n지문: 가속시험에서 추정 활성화에너지 E가 조건에 따라 달라진다. 가장 그럴듯한 원인은?\n\n보기(A~D)\n(A) 표본이 적어서\n(B) 혼합된 고장 메커니즘(다중 메커니즘)이 존재해서\n(C) 온도 조건 미유지는 유일한 원인이다\n(D) 관리도 한계를 잘못 계산해서",
    backText:
      "정답: (B)\n\n짧은 해설: 지배 메커니즘이 바뀌면 추정 E가 달라질 수 있다."
  },
  {
    id: "CRE-M40",
    topic: "CRE MAKER - 오답노트(40)",
    frontText:
      "CRE-M40\n\n지문: 실험계획법에서 교락(confounding)의 의미로 가장 적절한 것은?\n\n보기(A~D)\n(A) 표본이 크면 자동으로 사라진다\n(B) 둘 이상의 효과가 얽혀 개별 효과를 분리해 추정/검출할 수 없는 상태\n(C) 측정기 오차만 의미한다\n(D) 정규분포가 아닐 때만 발생한다",
    backText:
      "정답: (B)\n\n짧은 해설: 설계 구조상 효과가 alias되어 분리 추정이 불가능해지는 상태가 교락."
  }

    ];

    // ================================
    // 2) 앱 로직
    // ================================
    const STORAGE_KEY_INDEX = "cre_formula_flashcard_index";

    const viewerEl = document.getElementById("viewer");
    const counterEl = document.getElementById("counter");
    const topicEl = document.getElementById("topic");
    const sideLabelEl = document.getElementById("sideLabel");
    const frontSideEl = document.getElementById("frontSide");
    const backSideEl = document.getElementById("backSide");
    const frontTextEl = document.getElementById("frontText");
    const backTextEl = document.getElementById("backText");
    const frontImageEl = document.getElementById("frontImage");
    const backImageEl = document.getElementById("backImage");
    const placeholderEl = document.getElementById("placeholder");

    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const flipBtn = document.getElementById("flipBtn");
    const shuffleBtn = document.getElementById("shuffleBtn");
    const resetBtn = document.getElementById("resetBtn");

    const hideBtn = document.getElementById("hideBtn");
    const showHiddenBtn = document.getElementById("showHiddenBtn");

    let currentIndex = 0;
    let showBack = false;
    let touchStartX = null;
    let touchEndX = null;

    // ====== 숨김(외움) 기능 ======
    const STORAGE_KEY_HIDDEN = "cre_flash_hidden_ids";
    const STORAGE_KEY_SHOW_HIDDEN = "cre_flash_show_hidden";

    let hiddenIds = new Set();
    let showHidden = false;

    function loadHiddenState() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY_HIDDEN);
        if (raw) {
          const arr = JSON.parse(raw);
          if (Array.isArray(arr)) hiddenIds = new Set(arr);
        }
      } catch (e) {}
      try {
        showHidden = localStorage.getItem(STORAGE_KEY_SHOW_HIDDEN) === "1";
      } catch (e) {}
    }

    function saveHiddenState() {
      try {
        localStorage.setItem(STORAGE_KEY_HIDDEN, JSON.stringify([...hiddenIds]));
      } catch (e) {}
    }

    function saveShowHidden() {
      try {
        localStorage.setItem(STORAGE_KEY_SHOW_HIDDEN, showHidden ? "1" : "0");
      } catch (e) {}
    }

    function isHiddenCard(idx) {
      const c = cards[idx];
      return !!c && c.id && hiddenIds.has(c.id);
    }

    function getVisibleIndices() {
      if (showHidden) return cards.map((_, i) => i);
      const arr = [];
      for (let i = 0; i < cards.length; i++) {
        if (!isHiddenCard(i)) arr.push(i);
      }
      return arr;
    }

    function findNextVisibleIndex(fromIndex, step) {
      if (cards.length === 0) return null;

      if (showHidden) {
        return (fromIndex + step + cards.length) % cards.length;
      }

      for (let k = 0; k < cards.length; k++) {
        const idx = (fromIndex + step * (k + 1) + cards.length * 1000) % cards.length;
        if (!isHiddenCard(idx)) return idx;
      }
      return null; // 전부 숨김
    }

    function syncHideButtons() {
      if (cards.length === 0) {
        hideBtn.disabled = true;
        showHiddenBtn.disabled = true;
        return;
      }
      hideBtn.disabled = false;
      showHiddenBtn.disabled = false;

      const card = cards[currentIndex];
      const hidden = card?.id && hiddenIds.has(card.id);

      hideBtn.textContent = hidden ? "숨김 해제" : "외움(숨기기)";
      showHiddenBtn.textContent = `숨김 보기: ${showHidden ? "ON" : "OFF"}`;
    }

    function showAllHiddenMessage() {
      placeholderEl.style.display = "block";
      placeholderEl.innerHTML =
        "모든 카드가 숨김 처리되었습니다.<br/><br/>‘숨김 보기: ON’으로 전환하거나 숨김을 해제하세요.";
      frontSideEl.classList.remove("active");
      backSideEl.classList.remove("active");
    }

    function preloadImages() {
      cards.forEach((c) => {
        if (c.frontImage) {
          const img1 = new Image();
          img1.src = c.frontImage;
        }
        if (c.backImage) {
          const img2 = new Image();
          img2.src = c.backImage;
        }
      });
    }

    function loadSavedIndex() {
      try {
        const saved = localStorage.getItem(STORAGE_KEY_INDEX);
        if (saved !== null) {
          const idx = parseInt(saved, 10);
          if (!isNaN(idx) && idx >= 0 && idx < cards.length) {
            currentIndex = idx;
          }
        }
      } catch (e) {}
    }

    function saveIndex() {
      try {
        localStorage.setItem(STORAGE_KEY_INDEX, String(currentIndex));
      } catch (e) {}
    }

    function updateCounter() {
      if (cards.length === 0) {
        counterEl.textContent = "0 / 0";
        return;
      }

      if (showHidden) {
        counterEl.textContent = (currentIndex + 1) + " / " + cards.length;
        return;
      }

      const vis = getVisibleIndices();
      if (vis.length === 0) {
        counterEl.textContent = "0 / 0";
        return;
      }
      const pos = vis.indexOf(currentIndex);
      // 만약 현재가 숨김이면(이론상 updateCardView가 점프시키지만 안전장치)
      const shownPos = (pos >= 0) ? (pos + 1) : 1;
      counterEl.textContent = shownPos + " / " + vis.length;
    }

    function applySide() {
      if (showBack) {
        frontSideEl.classList.remove("active");
        backSideEl.classList.add("active");
        sideLabelEl.textContent = "뒷면";
        flipBtn.textContent = "앞면 보기";
      } else {
        backSideEl.classList.remove("active");
        frontSideEl.classList.add("active");
        sideLabelEl.textContent = "앞면";
        flipBtn.textContent = "정답 보기";
      }
    }

    function updateCardView() {
      const total = cards.length;

      if (total === 0) {
        viewerEl.classList.remove("has-card");
        placeholderEl.style.display = "block";
        placeholderEl.innerHTML =
          "아직 카드가 없습니다.<br /><br />아래 코드의 <code>cards</code> 배열에 수식 카드들을 추가해주세요.";
        topicEl.textContent = "";
        frontTextEl.textContent = "";
        backTextEl.textContent = "";
        frontImageEl.style.display = "none";
        backImageEl.style.display = "none";
        updateCounter();
        applySide();
        syncHideButtons();
        return;
      }

      // 숨김 보기 OFF인데 현재 카드가 숨김이면 자동 점프
      if (!showHidden && isHiddenCard(currentIndex)) {
        const nextIdx = findNextVisibleIndex(currentIndex, +1);
        if (nextIdx === null) {
          showAllHiddenMessage();
          updateCounter();
          syncHideButtons();
          return;
        }
        currentIndex = nextIdx;
      }

      viewerEl.classList.add("has-card");
      placeholderEl.style.display = "none";

      const card = cards[currentIndex];

      topicEl.textContent = card.topic || "";
      frontTextEl.textContent = card.frontText || "";
      backTextEl.textContent = card.backText || "";

      if (card.frontImage) {
        frontImageEl.src = card.frontImage;
        frontImageEl.style.display = "block";
      } else {
        frontImageEl.style.display = "none";
      }

      if (card.backImage) {
        backImageEl.src = card.backImage;
        backImageEl.style.display = "block";
      } else {
        backImageEl.style.display = "none";
      }

      updateCounter();
      applySide();
      saveIndex();
      syncHideButtons();
    }

    function showNext() {
      if (cards.length === 0) return;

      const nextIdx = findNextVisibleIndex(currentIndex, +1);
      if (nextIdx === null) {
        showAllHiddenMessage();
        updateCounter();
        syncHideButtons();
        return;
      }

      currentIndex = nextIdx;
      showBack = false;
      updateCardView();
    }

    function showPrev() {
      if (cards.length === 0) return;

      const prevIdx = findNextVisibleIndex(currentIndex, -1);
      if (prevIdx === null) {
        showAllHiddenMessage();
        updateCounter();
        syncHideButtons();
        return;
      }

      currentIndex = prevIdx;
      showBack = false;
      updateCardView();
    }

    function showRandom() {
      if (cards.length === 0) return;

      const pool = getVisibleIndices();
      if (pool.length === 0) {
        showAllHiddenMessage();
        updateCounter();
        syncHideButtons();
        return;
      }

      let newIndex = pool[Math.floor(Math.random() * pool.length)];
      if (pool.length > 1) {
        while (newIndex === currentIndex) {
          newIndex = pool[Math.floor(Math.random() * pool.length)];
        }
      }

      currentIndex = newIndex;
      showBack = false;
      updateCardView();
    }

    function resetToFirst() {
      if (cards.length === 0) return;

      currentIndex = 0;
      showBack = false;

      // 숨김 보기 OFF면 첫 “보이는 카드”로 점프
      if (!showHidden && isHiddenCard(currentIndex)) {
        const nextIdx = findNextVisibleIndex(currentIndex, +1);
        if (nextIdx !== null) currentIndex = nextIdx;
      }

      updateCardView();
    }

    // 이벤트 바인딩
    prevBtn.addEventListener("click", showPrev);
    nextBtn.addEventListener("click", showNext);
    shuffleBtn.addEventListener("click", showRandom);
    resetBtn.addEventListener("click", resetToFirst);

    flipBtn.addEventListener("click", () => {
      if (cards.length === 0) return;
      showBack = !showBack;
      applySide();
    });

    viewerEl.addEventListener("click", (e) => {
      if (e.target === prevBtn || e.target === nextBtn) return;
      if (cards.length === 0) return;
      showBack = !showBack;
      applySide();
    });

    // 숨기기 버튼
    hideBtn.addEventListener("click", () => {
      if (cards.length === 0) return;
      const card = cards[currentIndex];
      if (!card?.id) return;

      if (hiddenIds.has(card.id)) hiddenIds.delete(card.id);
      else hiddenIds.add(card.id);

      saveHiddenState();

      // 숨김 처리했는데 숨김 보기 OFF면 즉시 스킵
      if (!showHidden && hiddenIds.has(card.id)) {
        const nextIdx = findNextVisibleIndex(currentIndex, +1);
        if (nextIdx === null) {
          showAllHiddenMessage();
          updateCounter();
          syncHideButtons();
          return;
        }
        currentIndex = nextIdx;
      }

      showBack = false;
      updateCardView();
    });

    // 숨김 보기 토글
    showHiddenBtn.addEventListener("click", () => {
      showHidden = !showHidden;
      saveShowHidden();

      // OFF로 전환했는데 현재 카드가 숨김이면 보이는 카드로 점프
      if (!showHidden && isHiddenCard(currentIndex)) {
        const nextIdx = findNextVisibleIndex(currentIndex, +1);
        if (nextIdx !== null) currentIndex = nextIdx;
      }

      showBack = false;
      updateCardView();
    });

    // 스와이프 제스처
    viewerEl.addEventListener("touchstart", (e) => {
      if (e.touches.length === 1) {
        touchStartX = e.touches[0].clientX;
        touchEndX = null;
      }
    });

    viewerEl.addEventListener("touchmove", (e) => {
      if (e.touches.length === 1) {
        touchEndX = e.touches[0].clientX;
      }
    });

    viewerEl.addEventListener("touchend", () => {
      if (touchStartX === null || touchEndX === null) return;
      const dx = touchEndX - touchStartX;
      const threshold = 40;
      if (dx > threshold) showPrev();
      else if (dx < -threshold) showNext();
      touchStartX = null;
      touchEndX = null;
    });

    // 키보드 (PC 테스트용)
    window.addEventListener("keydown", (e) => {
      if (e.key === "ArrowRight") showNext();
      if (e.key === "ArrowLeft") showPrev();
      if (e.key === " ") {
        e.preventDefault();
        if (cards.length > 0) {
          showBack = !showBack;
          applySide();
        }
      }
    });

    // 초기화
    if (cards.length > 0) {
      preloadImages();
      loadSavedIndex();
    }
    loadHiddenState();
    updateCardView();
  </script>

<script src="cre_maker_cards_all.js"></script>

<!-- ✅ LaTeX 수식 자동 렌더링 (추가만 하면 됨) -->
<script>
(() => {
  // 이미 로드/적용된 경우 중복 실행 방지
  if (window.__CRE_MATHJAX_ADDED__) return;
  window.__CRE_MATHJAX_ADDED__ = true;

  // MathJax 설정 ( \( ... \), \[ ... \ ] 지원 )
  window.MathJax = window.MathJax || {
    tex: {
      inlineMath: [["\\(", "\\)"], ["$", "$"]],
      displayMath: [["\\[", "\\]"]],
    },
    options: {
      // 기존 code/pre 안은 건드리지 않게
      skipHtmlTags: ["script", "noscript", "style", "textarea", "pre", "code"],
    },
  };

  function typesetNow() {
    try {
      if (!window.MathJax || !MathJax.typesetPromise) return;

      const front = document.getElementById("frontText");
      const back = document.getElementById("backText");
      const targets = [front, back].filter(Boolean);

      if (MathJax.typesetClear) MathJax.typesetClear(targets);
      MathJax.typesetPromise(targets).catch(() => {});
    } catch (e) {}
  }

  // updateCardView를 "감싸서" 카드 갱신 후 자동 렌더링
  const originalUpdate = window.updateCardView;
  if (typeof originalUpdate === "function") {
    window.updateCardView = function () {
      originalUpdate();
      typesetNow();
    };
  }

  // MathJax 로더 (CDN)
  const s = document.createElement("script");
  s.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
  s.defer = true;
  s.onload = () => {
    // 최초 1회 화면도 다시 렌더링
    try { if (typeof window.updateCardView === "function") window.updateCardView(); } catch (e) {}
  };
  document.head.appendChild(s);

  // MathJax 로드 전에도 한 번 시도(실패해도 OK)
  setTimeout(typesetNow, 0);
})();
</script>

</body>
</html>
